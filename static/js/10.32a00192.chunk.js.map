{"version":3,"sources":["components/NoHouse/index.js","components/NoHouse/index.module.css","pages/Rent/index.module.css","utils/axios.js","utils/currentCity.js","pages/Rent/index.js","utils/api/area/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/antd-mobile/lib/nav-bar/style/css.js","../node_modules/antd-mobile/lib/nav-bar/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","utils/api/user/index.js","components/HouseItem/index.js","components/HouseItem/index.module.css"],"names":["NoHouse","children","className","styles","root","img","src","BaseURL","alt","msg","module","exports","api","axios","create","baseURL","interceptors","request","use","config","url","headers","startsWith","includes","authorization","getToken","loading","error","Promise","reject","response","res","status","data","description","body","hide","setToken","localStorage","setItem","getItem","removeToken","removeItem","isAuth","setSession","sessionStorage","JSON","stringify","getSession","currCity","parse","getCurrCity","a","currCityByLocal","resolve","window","BMap","LocalCity","get","result","name","currCityByMap","resove","getCityInfo","Rent","state","list","getUserHouses","this","setState","props","history","replace","getHouseList","map","item","key","houseCode","onClick","push","BASE_URL","houseImg","title","desc","tags","price","length","houses","renderHouseItem","to","link","navHeader","mode","icon","type","onLeftClick","go","renderRentList","Component","params","getCities","level","getHotCity","getCommunity","id","getMapHouses","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread2","target","i","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","require","value","_extends3","_interopRequireDefault","_classCallCheck3","_createClass3","_possibleConstructorReturn3","_inherits3","_classnames2","React","obj","__esModule","newObj","prototype","hasOwnProperty","call","_interopRequireWildcard","__rest","s","e","t","p","indexOf","NavBar","_React$Component","__proto__","getPrototypeOf","_a","prefixCls","leftContent","rightContent","restProps","createElement","role","defaultProps","_defineProperty","configurable","writable","login","username","password","post","getUserInfo","logout","getHousesFav","delFav","delete","addFav","pubHouse","HouseItem","style","house","imgWrap","content","tag","index","tagClass","join","priceNum"],"mappings":"+FAAA,8CAqBeA,IAfC,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAH,OACd,yBAAKC,UAAWC,IAAOC,MACrB,yBACEF,UAAWC,IAAOE,IAClBC,IAAG,UAAKC,IAAL,sBACHC,IAAI,6BAEN,uBAAGN,UAAWC,IAAOM,KAAMR,M,oBCZ/BS,EAAOC,QAAU,CAAC,KAAO,sBAAsB,IAAM,qBAAqB,IAAM,uB,oBCAhFD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,OAAS,qBAAqB,MAAQ,oBAAoB,SAAW,uBAAuB,KAAO,qB,sHCIzIJ,EAAU,oCAEVK,EAAMC,IAAMC,OAAO,CACvBC,QAASR,IAIXK,EAAII,aAAaC,QAAQC,KACvB,SAAUC,GAAS,IACTC,EAAiBD,EAAjBC,IAAKC,EAAYF,EAAZE,QAWb,OARID,EAAIE,WAAW,WAFN,CAAC,mBAAoB,eAEGC,SAASH,KAE5CC,EAAQG,cAAgBC,eAI1B,IAAMC,QAAQ,wBAAU,GAEjBP,KAET,SAAUQ,GAER,OAAOC,QAAQC,OAAOF,MAK1Bf,EAAII,aAAac,SAASZ,KACxB,SAAUY,GAER,IAAIC,EAAM,CACRC,OAAQF,EAASG,KAAKD,OACtBE,YAAaJ,EAASG,KAAKC,YAC3BD,KAAMH,EAASG,KAAKE,MAItB,OADA,IAAMC,OACCL,KAET,SAAUJ,GAGR,OAAOC,QAAQC,OAAOF,MAIXf,O,iRC/CTyB,EAAW,SAACJ,GAChBK,aAAaC,QAJI,QAIgBN,IAI7BR,EAAW,WAEf,OADYa,aAAaE,QATR,UAcbC,EAAc,WAClBH,aAAaI,WAfI,UAmBbC,EAAS,mBAAQlB,KAGjBmB,EAAa,SAACX,GAClBY,eAAeN,QAxBC,WAwBkBO,KAAKC,UAAUd,KAI7Ce,EAAa,WACjB,IAAIC,EAAWJ,eAAeL,QA7Bd,YA8BhB,OAAOS,EACAH,KAAKI,MAAMD,GADM,MAsBpBE,EAAW,uCAAG,8BAAAC,EAAA,6DAEZC,EAAkBL,IAFN,SAXX,IAAIpB,SAAQ,SAAC0B,EAASzB,IAEZ,IAAI0B,OAAOC,KAAKC,WACxBC,KAAI,SAACC,GAEVL,EAAQK,EAAOC,YAMD,UAKZC,EALY,OAabR,EAba,yCAcT,IAAIzB,QAAJ,uCAAY,WAAOkC,EAAQjC,GAAf,mBAAAuB,EAAA,sEAEcW,YAAYF,GAF1B,gBAET7B,EAFS,EAETA,OAAQC,EAFC,EAEDA,KACD,MAAXD,GAEFY,EAAWX,GAEX6B,EAAO7B,IAEPJ,EAAO,SATQ,2CAAZ,0DAdS,gCA4BTD,QAAQ0B,QAAQD,IA5BP,2CAAH,sD,wQCxCIW,E,4MACnBC,MAAQ,CAENC,KAAM,I,iMAKYC,c,OAAZpC,E,OAEEC,EAAiBD,EAAjBC,OAAQC,EAASF,EAATE,KACD,MAAXD,EACFoC,KAAKC,SAAS,CACZH,KAAMjC,IAGYmC,KAAKE,MAAjBC,QACAC,QAAQ,U,gJAKlBJ,KAAKK,iB,wCAGY,IACTP,EAASE,KAAKH,MAAdC,KACAK,EAAYH,KAAKE,MAAjBC,QAIR,OAAOL,EAAKQ,KAAI,SAACC,GACf,OACE,kBAAC,IAAD,CACEC,IAAKD,EAAKE,UACVC,QAAS,WACPP,EAAQQ,KAAR,kBAAwBJ,EAAKE,aAE/BvE,IAAK0E,IAAWL,EAAKM,SACrBC,MAAOP,EAAKO,MACZC,KAAMR,EAAKQ,KACXC,KAAMT,EAAKS,KACXC,MAAOV,EAAKU,a,uCAUlB,OAHiBjB,KAAKH,MAAdC,KACeoB,OAAS,EAczB,yBAAKpF,UAAWC,IAAOoF,QAASnB,KAAKoB,mBAVxC,kBAAC,IAAD,kDAEE,kBAAC,IAAD,CAAMC,GAAG,YAAYvF,UAAWC,IAAOuF,MAAvC,kCAFF,a,+BAaI,IACAnB,EAAYH,KAAKE,MAAjBC,QAER,OACE,yBAAKrE,UAAWC,IAAOC,MACrB,uBACEF,UAAWC,IAAOwF,UAClBC,KAAK,OACLC,KAAM,uBAAMC,KAAK,SACjBC,YAAa,kBAAMxB,EAAQyB,IAAI,KAJjC,4BAQC5B,KAAK6B,sB,GAhFoBC,c,gCCdlC,sLAGMnC,EAAc,SAACH,GACnB,OAAOhD,IAAI8C,IAAI,aAAc,CAC3ByC,OAAQ,CACNvC,WAMAwC,EAAY,WAAgB,IAAfC,EAAc,uDAAN,EACzB,OAAOzF,IAAI8C,IAAI,aAAc,CAC3ByC,OAAQ,CACNE,YAMAC,EAAa,WACjB,OAAO1F,IAAI8C,IAAI,cAIX6C,EAAe,SAAC3C,EAAM4C,GAC1B,OAAO5F,IAAI8C,IAAI,kBAAmB,CAChCyC,OAAQ,CACNvC,OACA4C,SAMAC,EAAe,SAACD,GACpB,OAAO5F,IAAI8C,IAAI,YAAa,CAC1ByC,OAAQ,CACNK,U,gCCvCN,8CAEA,SAASE,EAAQC,EAAQC,GACvB,IAAIC,EAAOC,OAAOD,KAAKF,GAEvB,GAAIG,OAAOC,sBAAuB,CAChC,IAAIC,EAAUF,OAAOC,sBAAsBJ,GACvCC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAEtDP,EAAK9B,KAAKsC,MAAMR,EAAMG,GAGxB,OAAOH,EAGM,SAASS,EAAeC,GACrC,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUnC,OAAQkC,IAAK,CACzC,IAAIE,EAAyB,MAAhBD,UAAUD,GAAaC,UAAUD,GAAK,GAE/CA,EAAI,EACNd,EAAQI,OAAOY,IAAS,GAAMC,SAAQ,SAAU/C,GAC9C,YAAe2C,EAAQ3C,EAAK8C,EAAO9C,OAE5BkC,OAAOc,0BAChBd,OAAOe,iBAAiBN,EAAQT,OAAOc,0BAA0BF,IAEjEhB,EAAQI,OAAOY,IAASC,SAAQ,SAAU/C,GACxCkC,OAAOgB,eAAeP,EAAQ3C,EAAKkC,OAAOK,yBAAyBO,EAAQ9C,OAKjF,OAAO2C,I,gCC/BTQ,EAAQ,IAERA,EAAQ,K,qDCFRjB,OAAOgB,eAAenH,EAAS,aAAc,CACzCqH,OAAO,IAGX,IAEIC,EAAYC,EAFAH,EAAQ,KAMpBI,EAAmBD,EAFAH,EAAQ,KAM3BK,EAAgBF,EAFAH,EAAQ,KAMxBM,EAA8BH,EAFAH,EAAQ,KAMtCO,EAAaJ,EAFAH,EAAQ,KAMrBQ,EAAeL,EAFDH,EAAQ,KAMtBS,EAEJ,SAAiCC,GAAO,GAAIA,GAAOA,EAAIC,WAAc,OAAOD,EAAc,IAAIE,EAAS,GAAI,GAAW,MAAPF,EAAe,IAAK,IAAI7D,KAAO6D,EAAW3B,OAAO8B,UAAUC,eAAeC,KAAKL,EAAK7D,KAAM+D,EAAO/D,GAAO6D,EAAI7D,IAAmC,OAAzB+D,EAAM,QAAcF,EAAYE,EAFzPI,CAFChB,EAAQ,IAMrB,SAASG,EAAuBO,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAE,QAAWA,GAEzF,IAAIO,EAA0C,SAAUC,EAAGC,GACvD,IAAIC,EAAI,GACR,IAAK,IAAIC,KAAKH,EACNnC,OAAO8B,UAAUC,eAAeC,KAAKG,EAAGG,IAAMF,EAAEG,QAAQD,GAAK,IAAGD,EAAEC,GAAKH,EAAEG,IAChF,GAAS,MAALH,GAAqD,oBAAjCnC,OAAOC,sBAA2C,KAAIS,EAAI,EAAb,IAAgB4B,EAAItC,OAAOC,sBAAsBkC,GAAIzB,EAAI4B,EAAE9D,OAAQkC,IACjI0B,EAAEG,QAAQD,EAAE5B,IAAM,IAAG2B,EAAEC,EAAE5B,IAAMyB,EAAEG,EAAE5B,KAC1C,OAAO2B,GAGRG,EAAS,SAAUC,GAGnB,SAASD,IAEL,OADA,EAAInB,EAAgB,SAAa/D,KAAMkF,IAChC,EAAIjB,EAA2B,SAAajE,MAAOkF,EAAOE,WAAa1C,OAAO2C,eAAeH,IAASjC,MAAMjD,KAAMqD,YA4C7H,OAhDA,EAAIa,EAAU,SAAagB,EAAQC,IAOnC,EAAInB,EAAa,SAAakB,EAAQ,CAAC,CACnC1E,IAAK,SACLoD,MAAO,WACH,IAAI0B,EAAKtF,KAAKE,MACVqF,EAAYD,EAAGC,UACfzJ,EAAYwJ,EAAGxJ,UACfD,EAAWyJ,EAAGzJ,SACd2F,EAAO8D,EAAG9D,KACVC,EAAO6D,EAAG7D,KACVE,EAAc2D,EAAG3D,YACjB6D,EAAcF,EAAGE,YACjBC,EAAeH,EAAGG,aAClBC,EAAYd,EAAOU,EAAI,CAAC,YAAa,YAAa,WAAY,OAAQ,OAAQ,cAAe,cAAe,iBAChH,OAAOlB,EAAMuB,cACT,OACA,EAAI9B,EAAS,SAAa,GAAI6B,EAAW,CAAE5J,WAAW,EAAIqI,EAAY,SAAarI,EAAWyJ,EAAWA,EAAY,IAAM/D,KAC3H4C,EAAMuB,cACF,MACA,CAAE7J,UAAWyJ,EAAY,QAASK,KAAM,SAAUlF,QAASiB,GAC3DF,EAEA2C,EAAMuB,cACF,OACA,CAAE7J,UAAWyJ,EAAY,aAAc,cAAe,QACtD9D,GACA,KACJ+D,GAEJpB,EAAMuB,cACF,MACA,CAAE7J,UAAWyJ,EAAY,UACzB1J,GAEJuI,EAAMuB,cACF,MACA,CAAE7J,UAAWyJ,EAAY,UACzBE,QAKTP,EAjDE,CAkDXd,EAAMtC,WAERvF,EAAO,QAAc2I,EAErBA,EAAOW,aAAe,CAClBN,UAAW,YACX/D,KAAM,OACNG,YAAa,cAEjBrF,EAAOC,QAAUA,EAAO,S,gCC1GT,SAASuJ,EAAgBzB,EAAK7D,EAAKoD,GAYhD,OAXIpD,KAAO6D,EACT3B,OAAOgB,eAAeW,EAAK7D,EAAK,CAC9BoD,MAAOA,EACPZ,YAAY,EACZ+C,cAAc,EACdC,UAAU,IAGZ3B,EAAI7D,GAAOoD,EAGNS,EAZT,mC,oUCGM4B,EAAQ,SAACC,EAAUC,GACvB,OAAO3J,IAAI4J,KAAK,cAAe,CAC7BF,WACAC,cAKEE,EAAc,WAClB,OAAO7J,IAAI8C,IAAI,UAIXgH,EAAS,WACb,OAAO9J,IAAI4J,KAAK,iBAIZG,EAAe,SAACnE,GACpB,OAAO5F,IAAI8C,IAAJ,0BAA2B8C,KAI9BoE,EAAS,SAACpE,GACd,OAAO5F,IAAIiK,OAAJ,0BAA8BrE,KAIjCsE,EAAS,SAACtE,GACd,OAAO5F,IAAI4J,KAAJ,0BAA4BhE,KAI/BrC,EAAgB,WACpB,OAAOvD,IAAI8C,IAAI,iBAIXqH,EAAW,SAAC5I,GAChB,OAAOvB,IAAI4J,KAAK,eAAT,eACFrI,M,gCC3CP,qCAoDe6I,IA1Cf,YAAuE,IAAlD1K,EAAiD,EAAjDA,IAAK4E,EAA4C,EAA5CA,MAAOC,EAAqC,EAArCA,KAAMC,EAA+B,EAA/BA,KAAMC,EAAyB,EAAzBA,MAAOP,EAAkB,EAAlBA,QAASmG,EAAS,EAATA,MAG3D,OACE,yBAAK/K,UAAWC,IAAO+K,MAAOpG,QAASA,EAASmG,MAAOA,GACrD,yBAAK/K,UAAWC,IAAOgL,SACrB,yBAAKjL,UAAWC,IAAOE,IAAKC,IAAKA,EAAKE,IAAI,MAE5C,yBAAKN,UAAWC,IAAOiL,SACrB,wBAAIlL,UAAWC,IAAO+E,OAAQA,GAC9B,yBAAKhF,UAAWC,IAAOgF,MAAOA,GAC9B,6BAEGC,EAAKV,KAAI,SAAC2G,EAAKC,GACd,IAAMC,EAAW,OAASD,EAAQ,GAClC,OACE,0BACEpL,UAAW,CAACC,IAAOkL,IAAKlL,IAAOoL,IAAWC,KAAK,KAC/C5G,IAAKyG,GAEJA,OAKT,yBAAKnL,UAAWC,IAAOkF,OACrB,0BAAMnF,UAAWC,IAAOsL,UAAWpG,GADrC,sB,mBClCR3E,EAAOC,QAAU,CAAC,MAAQ,yBAAyB,QAAU,2BAA2B,IAAM,uBAAuB,QAAU,2BAA2B,MAAQ,yBAAyB,KAAO,wBAAwB,MAAQ,yBAAyB,SAAW,4BAA4B,IAAM,uBAAuB,KAAO,wBAAwB,KAAO,wBAAwB,KAAO","file":"static/js/10.32a00192.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport styles from \"./index.module.css\";\r\nimport { BaseURL } from \"../../utils/axios\";\r\nconst NoHouse = ({ children }) => (\r\n  <div className={styles.root}>\r\n    <img\r\n      className={styles.img}\r\n      src={`${BaseURL}/img/not-found.png`}\r\n      alt=\"暂无数据\"\r\n    />\r\n    <p className={styles.msg}>{children}</p>\r\n  </div>\r\n);\r\n\r\nNoHouse.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default NoHouse;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"NoHouse_root__33pwT\",\"img\":\"NoHouse_img__2n1v_\",\"msg\":\"NoHouse_msg__3wT74\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Rent_root__1Z_yx\",\"houses\":\"Rent_houses__1Vb-N\",\"empty\":\"Rent_empty__3kB9c\",\"emptyImg\":\"Rent_emptyImg__3ciPE\",\"link\":\"Rent_link__1XI7q\"};","import axios from \"axios\";\r\nimport { Toast } from \"antd-mobile\";\r\nimport { getToken } from \"./currentCity\";\r\n\r\n// 基地址\r\nconst BaseURL = \"https://api-haoke-web.itheima.net\";\r\n\r\nconst api = axios.create({\r\n  baseURL: BaseURL,\r\n});\r\n\r\n// Add a request interceptor  请求拦截器\r\napi.interceptors.request.use(\r\n  function (config) {\r\n    const { url, headers } = config;\r\n    const list = [\"/user/registered\", \"/user/login\"]; // 白名单\r\n\r\n    if (url.startsWith(\"/user\") && !list.includes(url)) {\r\n      // 设置公共请求头\r\n      headers.authorization = getToken();\r\n    }\r\n\r\n    // 动画加载\r\n    Toast.loading(\"加载中...\", 0);\r\n    // Do something before request is sent\r\n    return config;\r\n  },\r\n  function (error) {\r\n    // Do something with request error\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Add a response interceptor  响应拦截器\r\napi.interceptors.response.use(\r\n  function (response) {\r\n    // 简化返回结果\r\n    let res = {\r\n      status: response.data.status,\r\n      description: response.data.description,\r\n      data: response.data.body,\r\n    };\r\n    // 动画结束\r\n    Toast.hide();\r\n    return res;\r\n  },\r\n  function (error) {\r\n    // Any status codes that falls outside the range of 2xx cause this function to trigger\r\n    // Do something with response error\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default api;\r\nexport { BaseURL };\r\n","import { getCityInfo } from \"./api/area\";\r\n\r\nconst CURR_CITY = \"currCity\"; // 当前城市\r\nconst USER_TOKEN = \"token\";\r\n\r\n// 设置Token\r\nconst setToken = (data) => {\r\n  localStorage.setItem(USER_TOKEN, data);\r\n};\r\n\r\n// 获取Token\r\nconst getToken = () => {\r\n  let token = localStorage.getItem(USER_TOKEN);\r\n  return token;\r\n};\r\n\r\n// 删除Token\r\nconst removeToken = () => {\r\n  localStorage.removeItem(USER_TOKEN);\r\n};\r\n\r\n// 是否登录判断：boolean\r\nconst isAuth = () => !!getToken();\r\n\r\n// 设置当前城市\r\nconst setSession = (data) => {\r\n  sessionStorage.setItem(CURR_CITY, JSON.stringify(data));\r\n};\r\n\r\n// 获取当前城市\r\nconst getSession = () => {\r\n  let currCity = sessionStorage.getItem(CURR_CITY);\r\n  if (!!!currCity) return null;\r\n  return JSON.parse(currCity);\r\n};\r\n\r\n// 删除当前城市\r\n// const removeSession = () => {\r\n//   sessionStorage.removeItem(CURR_CITY);\r\n// };\r\n\r\n// 百度获取\r\nconst getCurrCityByMap = () => {\r\n  return new Promise((resolve, reject) => {\r\n    // 使用百度地图LocalCity获取当前的城市名称\r\n    const myCity = new window.BMap.LocalCity();\r\n    myCity.get((result) => {\r\n      // 根据百度地图获取到城市名字，调用后台接口获取当前城市的详细数据\r\n      resolve(result.name);\r\n    });\r\n  });\r\n};\r\n\r\n// 获取当前城市信息\r\nconst getCurrCity = async () => {\r\n  // 内存中找\r\n  const currCityByLocal = getSession();\r\n\r\n  // 定位\r\n  const currCityByMap = await getCurrCityByMap();\r\n  // 内存中没有 || 内存中有键没值 || 定位和内存中的值不匹配  这样判断，手动切换城市就会有bug\r\n  // if (\r\n  //   !currCityByLocal ||\r\n  //   !currCityByLocal.label ||\r\n  //   !currCityByMap.includes(currCityByLocal.label)\r\n  // ) {\r\n\r\n  if (!currCityByLocal) {\r\n    return new Promise(async (resove, reject) => {\r\n      // 调用接口获取城市详细信息\r\n      const { status, data } = await getCityInfo(currCityByMap);\r\n      if (status === 200) {\r\n        // 存到本地\r\n        setSession(data);\r\n        // 传递数据\r\n        resove(data);\r\n      } else {\r\n        reject(\"error\");\r\n      }\r\n    });\r\n  } else {\r\n    // 如果有，返回本地存储获取的信息\r\n    return Promise.resolve(currCityByLocal);\r\n  }\r\n};\r\n\r\nexport {\r\n  getCurrCity,\r\n  setSession,\r\n  CURR_CITY,\r\n  setToken,\r\n  getToken,\r\n  removeToken,\r\n  isAuth,\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { NavBar, Icon } from \"antd-mobile\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\n// import { getUserHouses } from '../../utils/api/user'\r\nimport HouseItem from \"../../components/HouseItem\";\r\nimport NoHouse from \"../../components/NoHouse\";\r\n\r\nimport styles from \"./index.module.css\";\r\nimport { BaseURL as BASE_URL } from \"../../utils/axios\";\r\n\r\nimport { getUserHouses } from \"../../utils/api/user/index\";\r\n\r\nexport default class Rent extends Component {\r\n  state = {\r\n    // 出租房屋列表\r\n    list: [],\r\n  };\r\n\r\n  // 获取已发布房源的列表数据\r\n  async getHouseList() {\r\n    const res = await getUserHouses();\r\n\r\n    const { status, data } = res;\r\n    if (status === 200) {\r\n      this.setState({\r\n        list: data,\r\n      });\r\n    } else {\r\n      const { history } = this.props;\r\n      history.replace(\"/login\");\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getHouseList();\r\n  }\r\n\r\n  renderHouseItem() {\r\n    const { list } = this.state;\r\n    const { history } = this.props;\r\n\r\n    // console.log(list, history)\r\n\r\n    return list.map((item) => {\r\n      return (\r\n        <HouseItem\r\n          key={item.houseCode}\r\n          onClick={() => {\r\n            history.push(`/detail/${item.houseCode}`);\r\n          }}\r\n          src={BASE_URL + item.houseImg}\r\n          title={item.title}\r\n          desc={item.desc}\r\n          tags={item.tags}\r\n          price={item.price}\r\n        />\r\n      );\r\n    });\r\n  }\r\n\r\n  renderRentList() {\r\n    const { list } = this.state;\r\n    const hasHouses = list.length > 0;\r\n\r\n    if (!hasHouses) {\r\n      return (\r\n        <NoHouse>\r\n          您还没有房源，\r\n          <Link to=\"/rent/add\" className={styles.link}>\r\n            去发布房源\r\n          </Link>\r\n          吧~\r\n        </NoHouse>\r\n      );\r\n    }\r\n\r\n    return <div className={styles.houses}>{this.renderHouseItem()}</div>;\r\n  }\r\n\r\n  render() {\r\n    const { history } = this.props;\r\n\r\n    return (\r\n      <div className={styles.root}>\r\n        <NavBar\r\n          className={styles.navHeader}\r\n          mode=\"dark\"\r\n          icon={<Icon type=\"left\" />}\r\n          onLeftClick={() => history.go(-1)}\r\n        >\r\n          房屋管理\r\n        </NavBar>\r\n        {this.renderRentList()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import api from \"../../axios\";\r\n\r\n// 根据城市名称查询该城市的信息\r\nconst getCityInfo = (name) => {\r\n  return api.get(\"/area/info\", {\r\n    params: {\r\n      name,\r\n    },\r\n  });\r\n};\r\n\r\n// 获取城市列表数据\r\nconst getCities = (level = 1) => {\r\n  return api.get(\"/area/city\", {\r\n    params: {\r\n      level,\r\n    },\r\n  });\r\n};\r\n\r\n// 获取热门城市\r\nconst getHotCity = () => {\r\n  return api.get(\"/area/hot\");\r\n};\r\n\r\n// 小区关键词查询\r\nconst getCommunity = (name, id) => {\r\n  return api.get(\"/area/community\", {\r\n    params: {\r\n      name,\r\n      id,\r\n    },\r\n  });\r\n};\r\n\r\n// 查询房源数据\r\nconst getMapHouses = (id) => {\r\n  return api.get(\"/area/map\", {\r\n    params: {\r\n      id,\r\n    },\r\n  });\r\n};\r\n\r\nexport { getCityInfo, getCities, getHotCity, getCommunity, getMapHouses };\r\n","import defineProperty from \"./defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","'use strict';\n\nrequire('../../style/css');\n\nrequire('./index.css');","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar __rest = undefined && undefined.__rest || function (s, e) {\n    var t = {};\n    for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n    }if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n    }return t;\n};\n\nvar NavBar = function (_React$Component) {\n    (0, _inherits3['default'])(NavBar, _React$Component);\n\n    function NavBar() {\n        (0, _classCallCheck3['default'])(this, NavBar);\n        return (0, _possibleConstructorReturn3['default'])(this, (NavBar.__proto__ || Object.getPrototypeOf(NavBar)).apply(this, arguments));\n    }\n\n    (0, _createClass3['default'])(NavBar, [{\n        key: 'render',\n        value: function render() {\n            var _a = this.props,\n                prefixCls = _a.prefixCls,\n                className = _a.className,\n                children = _a.children,\n                mode = _a.mode,\n                icon = _a.icon,\n                onLeftClick = _a.onLeftClick,\n                leftContent = _a.leftContent,\n                rightContent = _a.rightContent,\n                restProps = __rest(_a, [\"prefixCls\", \"className\", \"children\", \"mode\", \"icon\", \"onLeftClick\", \"leftContent\", \"rightContent\"]);\n            return React.createElement(\n                'div',\n                (0, _extends3['default'])({}, restProps, { className: (0, _classnames2['default'])(className, prefixCls, prefixCls + '-' + mode) }),\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-left', role: 'button', onClick: onLeftClick },\n                    icon ?\n                    // tslint:disable-next-line:jsx-no-multiline-js\n                    React.createElement(\n                        'span',\n                        { className: prefixCls + '-left-icon', 'aria-hidden': 'true' },\n                        icon\n                    ) : null,\n                    leftContent\n                ),\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-title' },\n                    children\n                ),\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-right' },\n                    rightContent\n                )\n            );\n        }\n    }]);\n    return NavBar;\n}(React.Component);\n\nexports['default'] = NavBar;\n\nNavBar.defaultProps = {\n    prefixCls: 'am-navbar',\n    mode: 'dark',\n    onLeftClick: function onLeftClick() {}\n};\nmodule.exports = exports['default'];","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import api from \"../../axios\";\r\n\r\n// 用户登录接口\r\nconst login = (username, password) => {\r\n  return api.post(\"/user/login\", {\r\n    username,\r\n    password,\r\n  });\r\n};\r\n\r\n// 获取用户的信息资料\r\nconst getUserInfo = () => {\r\n  return api.get(\"/user\");\r\n};\r\n\r\n// 用户退出登录\r\nconst logout = () => {\r\n  return api.post(\"/user/logout\");\r\n};\r\n\r\n// 房屋是否收藏\r\nconst getHousesFav = (id) => {\r\n  return api.get(`/user/favorites/${id}`);\r\n};\r\n\r\n// 删除收藏\r\nconst delFav = (id) => {\r\n  return api.delete(`/user/favorites/${id}`);\r\n};\r\n\r\n// 添加收藏\r\nconst addFav = (id) => {\r\n  return api.post(`/user/favorites/${id}`);\r\n};\r\n\r\n// 查看已发布房源列表\r\nconst getUserHouses = () => {\r\n  return api.get(\"/user/houses\");\r\n};\r\n\r\n// 发布房源\r\nconst pubHouse = (body) => {\r\n  return api.post(\"/user/houses\", {\r\n    ...body,\r\n  });\r\n};\r\n\r\nexport {\r\n  login,\r\n  getUserInfo,\r\n  logout,\r\n  getHousesFav,\r\n  delFav,\r\n  addFav,\r\n  getUserHouses,\r\n  pubHouse,\r\n};\r\n","import React from \"react\";\r\n\r\n// import PropTypes from \"prop-types\";\r\n// props\r\n// 1. cheldren -> 获取组件动态内容  <Child>adadsd</Child>\r\n// 2. defautProps -> 为组件设置默认属性  num\r\n// 3. prop-types -> 为组件的属性提供默认类型  age\r\n\r\nimport styles from \"./index.module.css\";\r\n\r\nfunction HouseItem({ src, title, desc, tags, price, onClick, style }) {\r\n  // console.log(src, title, desc, tags, price, onClick, style);\r\n\r\n  return (\r\n    <div className={styles.house} onClick={onClick} style={style}>\r\n      <div className={styles.imgWrap}>\r\n        <img className={styles.img} src={src} alt=\"\" />\r\n      </div>\r\n      <div className={styles.content}>\r\n        <h3 className={styles.title}>{title}</h3>\r\n        <div className={styles.desc}>{desc}</div>\r\n        <div>\r\n          {/* ['近地铁', '随时看房'] */}\r\n          {tags.map((tag, index) => {\r\n            const tagClass = \"tag\" + (index + 1);\r\n            return (\r\n              <span\r\n                className={[styles.tag, styles[tagClass]].join(\" \")}\r\n                key={tag}\r\n              >\r\n                {tag}\r\n              </span>\r\n            );\r\n          })}\r\n        </div>\r\n        <div className={styles.price}>\r\n          <span className={styles.priceNum}>{price}</span> 元/月\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nHouseItem.propTypes = {\r\n  // src: PropTypes.string,\r\n  // title: PropTypes.string,\r\n  // desc: PropTypes.string,\r\n  // tags: PropTypes.array.isRequired,\r\n  // price: PropTypes.number,\r\n  // onClick: PropTypes.func\r\n};\r\n\r\nexport default HouseItem;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"house\":\"HouseItem_house__2q9Ye\",\"imgWrap\":\"HouseItem_imgWrap__xEh5J\",\"img\":\"HouseItem_img__rewGk\",\"content\":\"HouseItem_content__1WkA3\",\"title\":\"HouseItem_title__2o3S7\",\"desc\":\"HouseItem_desc__1k7nO\",\"price\":\"HouseItem_price__1_VPA\",\"priceNum\":\"HouseItem_priceNum__3oYx1\",\"tag\":\"HouseItem_tag__1bClN\",\"tag1\":\"HouseItem_tag1__3oa-D\",\"tag2\":\"HouseItem_tag2__1_RYT\",\"tag3\":\"HouseItem_tag3__26E0o\"};"],"sourceRoot":""}