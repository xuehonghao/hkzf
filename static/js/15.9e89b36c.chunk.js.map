{"version":3,"sources":["utils/axios.js","utils/currentCity.js","pages/cityList/index.js","utils/api/area/index.js","../node_modules/antd-mobile/lib/nav-bar/style/css.js","../node_modules/antd-mobile/lib/nav-bar/index.js"],"names":["BaseURL","api","axios","create","baseURL","interceptors","request","use","config","url","headers","startsWith","includes","authorization","getToken","loading","error","Promise","reject","response","res","status","data","description","body","hide","setToken","localStorage","setItem","getItem","removeToken","removeItem","isAuth","setSession","sessionStorage","JSON","stringify","getSession","currCity","parse","getCurrCity","a","currCityByLocal","resolve","window","BMap","LocalCity","get","result","name","currCityByMap","resove","getCityInfo","index","state","cityIndex","cityList","activeIndex","loadData","getCities","formatCities","getHotCity","hotCity","unshift","setState","map","item","head","pinyin","slice","push","Object","keys","sort","getRowheight","length","changeCity","city","label","props","history","goBack","info","renderCityIndex","key","className","onClick","listRef","scrollToRow","formatLetter","onRowsRendered","startIndex","rowRenderer","style","isScrolling","isVisible","k","this","letter","first","toUpperCase","mode","icon","type","onLeftClick","height","width","rowCount","rowHeight","scrollToAlignment","ref","Component","params","level","getCommunity","id","getMapHouses","require","defineProperty","exports","value","_extends3","_interopRequireDefault","_classCallCheck3","_createClass3","_possibleConstructorReturn3","_inherits3","_classnames2","React","obj","__esModule","newObj","prototype","hasOwnProperty","call","_interopRequireWildcard","__rest","s","e","t","p","indexOf","getOwnPropertySymbols","i","NavBar","_React$Component","__proto__","getPrototypeOf","apply","arguments","_a","prefixCls","children","leftContent","rightContent","restProps","createElement","role","defaultProps","module"],"mappings":"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","file":"static/js/15.9e89b36c.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport { Toast } from \"antd-mobile\";\r\nimport { getToken } from \"./currentCity\";\r\n\r\n// 基地址\r\nconst BaseURL = \"https://api-haoke-web.itheima.net\";\r\n\r\nconst api = axios.create({\r\n  baseURL: BaseURL,\r\n});\r\n\r\n// Add a request interceptor  请求拦截器\r\napi.interceptors.request.use(\r\n  function (config) {\r\n    const { url, headers } = config;\r\n    const list = [\"/user/registered\", \"/user/login\"]; // 白名单\r\n\r\n    if (url.startsWith(\"/user\") && !list.includes(url)) {\r\n      // 设置公共请求头\r\n      headers.authorization = getToken();\r\n    }\r\n\r\n    // 动画加载\r\n    Toast.loading(\"加载中...\", 0);\r\n    // Do something before request is sent\r\n    return config;\r\n  },\r\n  function (error) {\r\n    // Do something with request error\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Add a response interceptor  响应拦截器\r\napi.interceptors.response.use(\r\n  function (response) {\r\n    // 简化返回结果\r\n    let res = {\r\n      status: response.data.status,\r\n      description: response.data.description,\r\n      data: response.data.body,\r\n    };\r\n    // 动画结束\r\n    Toast.hide();\r\n    return res;\r\n  },\r\n  function (error) {\r\n    // Any status codes that falls outside the range of 2xx cause this function to trigger\r\n    // Do something with response error\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default api;\r\nexport { BaseURL };\r\n","import { getCityInfo } from \"./api/area\";\r\n\r\nconst CURR_CITY = \"currCity\"; // 当前城市\r\nconst USER_TOKEN = \"token\";\r\n\r\n// 设置Token\r\nconst setToken = (data) => {\r\n  localStorage.setItem(USER_TOKEN, data);\r\n};\r\n\r\n// 获取Token\r\nconst getToken = () => {\r\n  let token = localStorage.getItem(USER_TOKEN);\r\n  return token;\r\n};\r\n\r\n// 删除Token\r\nconst removeToken = () => {\r\n  localStorage.removeItem(USER_TOKEN);\r\n};\r\n\r\n// 是否登录判断：boolean\r\nconst isAuth = () => !!getToken();\r\n\r\n// 设置当前城市\r\nconst setSession = (data) => {\r\n  sessionStorage.setItem(CURR_CITY, JSON.stringify(data));\r\n};\r\n\r\n// 获取当前城市\r\nconst getSession = () => {\r\n  let currCity = sessionStorage.getItem(CURR_CITY);\r\n  if (!!!currCity) return null;\r\n  return JSON.parse(currCity);\r\n};\r\n\r\n// 删除当前城市\r\n// const removeSession = () => {\r\n//   sessionStorage.removeItem(CURR_CITY);\r\n// };\r\n\r\n// 百度获取\r\nconst getCurrCityByMap = () => {\r\n  return new Promise((resolve, reject) => {\r\n    // 使用百度地图LocalCity获取当前的城市名称\r\n    const myCity = new window.BMap.LocalCity();\r\n    myCity.get((result) => {\r\n      // 根据百度地图获取到城市名字，调用后台接口获取当前城市的详细数据\r\n      resolve(result.name);\r\n    });\r\n  });\r\n};\r\n\r\n// 获取当前城市信息\r\nconst getCurrCity = async () => {\r\n  // 内存中找\r\n  const currCityByLocal = getSession();\r\n\r\n  // 定位\r\n  const currCityByMap = await getCurrCityByMap();\r\n  // 内存中没有 || 内存中有键没值 || 定位和内存中的值不匹配  这样判断，手动切换城市就会有bug\r\n  // if (\r\n  //   !currCityByLocal ||\r\n  //   !currCityByLocal.label ||\r\n  //   !currCityByMap.includes(currCityByLocal.label)\r\n  // ) {\r\n\r\n  if (!currCityByLocal) {\r\n    return new Promise(async (resove, reject) => {\r\n      // 调用接口获取城市详细信息\r\n      const { status, data } = await getCityInfo(currCityByMap);\r\n      if (status === 200) {\r\n        // 存到本地\r\n        setSession(data);\r\n        // 传递数据\r\n        resove(data);\r\n      } else {\r\n        reject(\"error\");\r\n      }\r\n    });\r\n  } else {\r\n    // 如果有，返回本地存储获取的信息\r\n    return Promise.resolve(currCityByLocal);\r\n  }\r\n};\r\n\r\nexport {\r\n  getCurrCity,\r\n  setSession,\r\n  CURR_CITY,\r\n  setToken,\r\n  getToken,\r\n  removeToken,\r\n  isAuth,\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { getCities, getHotCity } from \"../../utils/api/area\";\r\nimport { getCurrCity, setSession } from \"../../utils/currentCity\";\r\nimport \"react-virtualized/styles.css\";\r\nimport { List, AutoSizer } from \"react-virtualized\";\r\nimport { NavBar, Icon, Toast } from \"antd-mobile\";\r\nimport \"./index.scss\";\r\n\r\nclass index extends Component {\r\n  state = {\r\n    cityIndex: [],\r\n    cityList: {},\r\n    activeIndex: 0,\r\n  };\r\n  componentDidMount() {\r\n    this.loadData();\r\n  }\r\n\r\n  // 获取城市列表数据\r\n  loadData = async () => {\r\n    // 获取所有城市列表\r\n    let res = await getCities();\r\n\r\n    // 获得格式化后的城市列表\r\n    let { cityIndex, cityList } = this.formatCities(res);\r\n\r\n    // 添加热门城市\r\n    let hotCity = await getHotCity();\r\n    if (res.status === 200) {\r\n      cityIndex.unshift(\"hot\");\r\n      cityList[\"hot\"] = hotCity.data;\r\n    }\r\n\r\n    // 添加当前城市\r\n    let currCity = await getCurrCity();\r\n    cityIndex.unshift(\"#\");\r\n    cityList[\"#\"] = [currCity];\r\n\r\n    this.setState({\r\n      cityIndex,\r\n      cityList,\r\n    });\r\n  };\r\n\r\n  // 格式化城市数据\r\n  formatCities = (res) => {\r\n    let cityList = {},\r\n      cityIndex;\r\n    if (res.status !== 200) {\r\n      return { cityList, cityIndex };\r\n    }\r\n\r\n    // 遍历所有城市，进行分类整理\r\n    res.data.map((item) => {\r\n      let head = item.pinyin.slice(0, 1); //首字母\r\n\r\n      //如果包含首字母(属性)，追加；如果没有，则设置数组，并填入城市对象\r\n      if (head in cityList) {\r\n        cityList[head].push(item);\r\n      } else {\r\n        cityList[head] = [item];\r\n      }\r\n    });\r\n\r\n    // 生成一级分类数组并排序\r\n    cityIndex = Object.keys(cityList).sort();\r\n\r\n    return { cityList, cityIndex };\r\n  };\r\n\r\n  // 格式化字母(处理热门城市和当前城市)\r\n  formatLetter(letter, first) {\r\n    switch (letter) {\r\n      case \"hot\":\r\n        return first ? \"热\" : \"热门城市\";\r\n      case \"#\":\r\n        return first ? \"当\" : \"当前城市\";\r\n      default:\r\n        return letter.toUpperCase();\r\n    }\r\n  }\r\n\r\n  // 动态获取行高\r\n  getRowheight = ({ index }) => {\r\n    const { cityIndex, cityList } = this.state;\r\n    let letter = cityIndex[index];\r\n    // title高度+城市高度*城市个数\r\n    return 36 + 50 * cityList[letter].length;\r\n  };\r\n\r\n  // 城市列表点击事件\r\n  // 切换城市\r\n  changeCity = (city) => {\r\n    const hasData = [\"北京\", \"上海\", \"广州\", \"深圳\"];\r\n    if (hasData.includes(city.label)) {\r\n      setSession(city);\r\n      this.props.history.goBack();\r\n    } else {\r\n      Toast.info(\"该城市暂无房源数据！\", 2);\r\n    }\r\n  };\r\n\r\n  // 渲染右侧索引列表\r\n  renderCityIndex = () => {\r\n    const { cityIndex, activeIndex } = this.state;\r\n    return cityIndex.map((item, index) => {\r\n      return (\r\n        <li\r\n          key={item}\r\n          className=\"city-index-item\"\r\n          onClick={() => {\r\n            // 调用\r\n            this.listRef.scrollToRow(index);\r\n          }}\r\n        >\r\n          <span className={activeIndex === index ? \"index-active\" : \"\"}>\r\n            {this.formatLetter(item, true)}\r\n          </span>\r\n        </li>\r\n      );\r\n    });\r\n  };\r\n\r\n  // 滚动列表触发（每次重新渲染列表后都会触发）\r\n  onRowsRendered = ({ startIndex }) => {\r\n    if (this.state.activeIndex !== startIndex) {\r\n      this.setState({\r\n        activeIndex: startIndex,\r\n      });\r\n    }\r\n  };\r\n\r\n  rowRenderer = ({\r\n    key, // Unique key within array of rows\r\n    index, // Index of row within collection\r\n    isScrolling, // The List is currently being scrolled\r\n    isVisible, // This row is visible within the List (eg it is not an overscanned row)\r\n    style, // Style object to be applied to row (to position it)\r\n  }) => {\r\n    return (\r\n      <div key={key} style={style} className=\"city-item\">\r\n        <div className=\"title\">\r\n          {this.formatLetter(this.state.cityIndex[index])}\r\n        </div>\r\n        {this.state.cityList[this.state.cityIndex[index]].map((item, k) => {\r\n          return (\r\n            <div\r\n              className=\"name\"\r\n              onClick={() => {\r\n                this.changeCity(item);\r\n              }}\r\n              key={k}\r\n            >\r\n              {item.label}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"cityList\">\r\n        {/* 导航返回 */}\r\n        <NavBar\r\n          mode=\"dark\"\r\n          icon={<Icon type=\"left\" />}\r\n          onLeftClick={() => this.props.history.goBack()}\r\n        >\r\n          城市选择\r\n        </NavBar>\r\n        {/* 列表 */}\r\n        <AutoSizer>\r\n          {({ height, width }) => (\r\n            <List\r\n              width={width}\r\n              height={height}\r\n              rowCount={this.state.cityIndex.length}\r\n              rowHeight={this.getRowheight}\r\n              rowRenderer={this.rowRenderer}\r\n              scrollToAlignment=\"start\"\r\n              onRowsRendered={this.onRowsRendered}\r\n              ref={(map) => {\r\n                this.listRef = map;\r\n              }}\r\n            />\r\n          )}\r\n        </AutoSizer>\r\n        {/* 右侧索引列表 */}\r\n        <ul className=\"city-index\">{this.renderCityIndex()}</ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default index;\r\n","import api from \"../../axios\";\r\n\r\n// 根据城市名称查询该城市的信息\r\nconst getCityInfo = (name) => {\r\n  return api.get(\"/area/info\", {\r\n    params: {\r\n      name,\r\n    },\r\n  });\r\n};\r\n\r\n// 获取城市列表数据\r\nconst getCities = (level = 1) => {\r\n  return api.get(\"/area/city\", {\r\n    params: {\r\n      level,\r\n    },\r\n  });\r\n};\r\n\r\n// 获取热门城市\r\nconst getHotCity = () => {\r\n  return api.get(\"/area/hot\");\r\n};\r\n\r\n// 小区关键词查询\r\nconst getCommunity = (name, id) => {\r\n  return api.get(\"/area/community\", {\r\n    params: {\r\n      name,\r\n      id,\r\n    },\r\n  });\r\n};\r\n\r\n// 查询房源数据\r\nconst getMapHouses = (id) => {\r\n  return api.get(\"/area/map\", {\r\n    params: {\r\n      id,\r\n    },\r\n  });\r\n};\r\n\r\nexport { getCityInfo, getCities, getHotCity, getCommunity, getMapHouses };\r\n","'use strict';\n\nrequire('../../style/css');\n\nrequire('./index.css');","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar __rest = undefined && undefined.__rest || function (s, e) {\n    var t = {};\n    for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n    }if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n    }return t;\n};\n\nvar NavBar = function (_React$Component) {\n    (0, _inherits3['default'])(NavBar, _React$Component);\n\n    function NavBar() {\n        (0, _classCallCheck3['default'])(this, NavBar);\n        return (0, _possibleConstructorReturn3['default'])(this, (NavBar.__proto__ || Object.getPrototypeOf(NavBar)).apply(this, arguments));\n    }\n\n    (0, _createClass3['default'])(NavBar, [{\n        key: 'render',\n        value: function render() {\n            var _a = this.props,\n                prefixCls = _a.prefixCls,\n                className = _a.className,\n                children = _a.children,\n                mode = _a.mode,\n                icon = _a.icon,\n                onLeftClick = _a.onLeftClick,\n                leftContent = _a.leftContent,\n                rightContent = _a.rightContent,\n                restProps = __rest(_a, [\"prefixCls\", \"className\", \"children\", \"mode\", \"icon\", \"onLeftClick\", \"leftContent\", \"rightContent\"]);\n            return React.createElement(\n                'div',\n                (0, _extends3['default'])({}, restProps, { className: (0, _classnames2['default'])(className, prefixCls, prefixCls + '-' + mode) }),\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-left', role: 'button', onClick: onLeftClick },\n                    icon ?\n                    // tslint:disable-next-line:jsx-no-multiline-js\n                    React.createElement(\n                        'span',\n                        { className: prefixCls + '-left-icon', 'aria-hidden': 'true' },\n                        icon\n                    ) : null,\n                    leftContent\n                ),\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-title' },\n                    children\n                ),\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-right' },\n                    rightContent\n                )\n            );\n        }\n    }]);\n    return NavBar;\n}(React.Component);\n\nexports['default'] = NavBar;\n\nNavBar.defaultProps = {\n    prefixCls: 'am-navbar',\n    mode: 'dark',\n    onLeftClick: function onLeftClick() {}\n};\nmodule.exports = exports['default'];"],"sourceRoot":""}