{"version":3,"sources":["../node_modules/babel-runtime/node_modules/core-js/library/fn/object/get-prototype-of.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.get-prototype-of.js","../node_modules/babel-runtime/core-js/object/get-own-property-descriptor.js","../node_modules/babel-runtime/node_modules/core-js/library/fn/object/get-own-property-descriptor.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.get-own-property-descriptor.js","utils/axios.js","utils/currentCity.js","pages/cityList/index.js","utils/api/area/index.js","../node_modules/babel-runtime/core-js/object/get-prototype-of.js","../node_modules/antd-mobile/lib/nav-bar/style/css.js","../node_modules/antd-mobile/lib/nav-bar/index.js","../node_modules/babel-runtime/node_modules/core-js/library/modules/_object-sap.js"],"names":["require","module","exports","Object","getPrototypeOf","toObject","$getPrototypeOf","it","__esModule","$Object","key","getOwnPropertyDescriptor","toIObject","$getOwnPropertyDescriptor","f","BaseURL","api","axios","create","baseURL","interceptors","request","use","config","url","headers","startsWith","includes","authorization","getToken","loading","error","Promise","reject","response","res","status","data","description","body","hide","setToken","localStorage","setItem","getItem","removeToken","removeItem","isAuth","setSession","sessionStorage","JSON","stringify","getSession","currCity","parse","getCurrCity","a","currCityByLocal","resolve","window","BMap","LocalCity","get","result","name","currCityByMap","resove","getCityInfo","index","state","cityIndex","cityList","activeIndex","loadData","getCities","formatCities","getHotCity","hotCity","unshift","setState","forEach","item","head","pinyin","slice","push","keys","sort","getRowheight","length","changeCity","city","label","props","history","goBack","info","renderCityIndex","map","className","onClick","listRef","scrollToRow","formatLetter","onRowsRendered","startIndex","rowRenderer","style","isScrolling","isVisible","k","this","letter","first","toUpperCase","mode","icon","type","onLeftClick","height","width","rowCount","rowHeight","scrollToAlignment","ref","Component","params","level","getCommunity","id","getMapHouses","defineProperty","value","_extends3","_interopRequireDefault","_classCallCheck3","_createClass3","_possibleConstructorReturn3","_inherits3","_classnames2","React","obj","newObj","prototype","hasOwnProperty","call","_interopRequireWildcard","__rest","s","e","t","p","indexOf","getOwnPropertySymbols","i","NavBar","_React$Component","__proto__","apply","arguments","_a","prefixCls","children","leftContent","rightContent","restProps","createElement","role","defaultProps","$export","core","fails","KEY","exec","fn","exp","S","F"],"mappings":"kFAAAA,EAAQ,KACRC,EAAOC,QAAUF,EAAQ,IAAuBG,OAAOC,gB,oBCAvD,IAAIC,EAAWL,EAAQ,IACnBM,EAAkBN,EAAQ,KAE9BA,EAAQ,GAARA,CAAyB,kBAAkB,WACzC,OAAO,SAAwBO,GAC7B,OAAOD,EAAgBD,EAASE,S,oBCNpCN,EAAOC,QAAU,CAAE,QAAWF,EAAQ,KAA0DQ,YAAY,I,oBCA5GR,EAAQ,KACR,IAAIS,EAAUT,EAAQ,IAAuBG,OAC7CF,EAAOC,QAAU,SAAkCK,EAAIG,GACrD,OAAOD,EAAQE,yBAAyBJ,EAAIG,K,oBCF9C,IAAIE,EAAYZ,EAAQ,IACpBa,EAA4Bb,EAAQ,KAAkBc,EAE1Dd,EAAQ,GAARA,CAAyB,4BAA4B,WACnD,OAAO,SAAkCO,EAAIG,GAC3C,OAAOG,EAA0BD,EAAUL,GAAKG,Q,4ICD9CK,EAAU,oCAEVC,EAAMC,IAAMC,OAAO,CACvBC,QAASJ,IAIXC,EAAII,aAAaC,QAAQC,KACvB,SAAUC,GAAS,IACTC,EAAiBD,EAAjBC,IAAKC,EAAYF,EAAZE,QAWb,OARID,EAAIE,WAAW,WAFN,CAAC,mBAAoB,eAEGC,SAASH,KAE5CC,EAAQG,cAAgBC,eAI1B,IAAMC,QAAQ,wBAAU,GAEjBP,KAET,SAAUQ,GAER,OAAOC,QAAQC,OAAOF,MAK1Bf,EAAII,aAAac,SAASZ,KACxB,SAAUY,GAER,IAAIC,EAAM,CACRC,OAAQF,EAASG,KAAKD,OACtBE,YAAaJ,EAASG,KAAKC,YAC3BD,KAAMH,EAASG,KAAKE,MAItB,OADA,IAAMC,OACCL,KAET,SAAUJ,GAGR,OAAOC,QAAQC,OAAOF,MAIXf,O,iRC/CTyB,EAAW,SAACJ,GAChBK,aAAaC,QAJI,QAIgBN,IAI7BR,EAAW,WAEf,OADYa,aAAaE,QATR,UAcbC,EAAc,WAClBH,aAAaI,WAfI,UAmBbC,EAAS,mBAAQlB,KAGjBmB,EAAa,SAACX,GAClBY,eAAeN,QAxBC,WAwBkBO,KAAKC,UAAUd,KAI7Ce,EAAa,WACjB,IAAIC,EAAWJ,eAAeL,QA7Bd,YA8BhB,OAAOS,EACAH,KAAKI,MAAMD,GADM,MAsBpBE,EAAW,uCAAG,8BAAAC,EAAA,6DAEZC,EAAkBL,IAFN,SAXX,IAAIpB,SAAQ,SAAC0B,EAASzB,IAEZ,IAAI0B,OAAOC,KAAKC,WACxBC,KAAI,SAACC,GAEVL,EAAQK,EAAOC,YAMD,UAKZC,EALY,OAabR,EAba,yCAcT,IAAIzB,QAAJ,uCAAY,WAAOkC,EAAQjC,GAAf,mBAAAuB,EAAA,sEAEcW,YAAYF,GAF1B,gBAET7B,EAFS,EAETA,OAAQC,EAFC,EAEDA,KACD,MAAXD,GAEFY,EAAWX,GAEX6B,EAAO7B,IAEPJ,EAAO,SATQ,2CAAZ,0DAdS,gCA4BTD,QAAQ0B,QAAQD,IA5BP,2CAAH,sD,gOC9CXW,G,mNACJC,MAAQ,CACNC,UAAW,GACXC,SAAU,GACVC,YAAa,G,EAOfC,S,sBAAW,sCAAAjB,EAAA,sEAEOkB,cAFP,cAELvC,EAFK,SAKqB,EAAKwC,aAAaxC,GAA1CmC,EALG,EAKHA,UAAWC,EALR,EAKQA,SALR,SAQWK,cARX,cAQLC,EARK,OASU,MAAf1C,EAAIC,SACNkC,EAAUQ,QAAQ,OAClBP,EAAQ,IAAUM,EAAQxC,MAXnB,UAeYkB,cAfZ,QAeLF,EAfK,OAgBTiB,EAAUQ,QAAQ,KAClBP,EAAS,KAAO,CAAClB,GAEjB,EAAK0B,SAAS,CACZT,YACAC,aArBO,4C,EA0BXI,aAAe,SAACxC,GACd,IACEmC,EADEC,EAAW,GAEf,OAAmB,MAAfpC,EAAIC,SAKRD,EAAIE,KAAK2C,SAAQ,SAACC,GAChB,IAAIC,EAAOD,EAAKE,OAAOC,MAAM,EAAG,GAG5BF,KAAQX,EACVA,EAASW,GAAMG,KAAKJ,GAEpBV,EAASW,GAAQ,CAACD,MAKtBX,EAAYnE,OAAOmF,KAAKf,GAAUgB,QAhBzB,CAAEhB,WAAUD,c,EAkCvBkB,aAAe,YAAgB,IAAbpB,EAAY,EAAZA,MAAY,EACI,EAAKC,MAA7BC,EADoB,EACpBA,UAGR,OAAO,GAAK,GAJgB,EACTC,SACND,EAAUF,IAEWqB,Q,EAKpCC,WAAa,SAACC,GACI,CAAC,eAAM,eAAM,eAAM,gBACvBhE,SAASgE,EAAKC,QACxB5C,YAAW2C,GACX,EAAKE,MAAMC,QAAQC,UAEnB,IAAMC,KAAK,+DAAc,I,EAK7BC,gBAAkB,WAAO,IAAD,EACa,EAAK5B,MAAhCC,EADc,EACdA,UAAWE,EADG,EACHA,YACnB,OAAOF,EAAU4B,KAAI,SAACjB,EAAMb,GAC1B,OACE,wBACE1D,IAAKuE,EACLkB,UAAU,kBACVC,QAAS,WAEP,EAAKC,QAAQC,YAAYlC,KAG3B,0BAAM+B,UAAW3B,IAAgBJ,EAAQ,eAAiB,IACvD,EAAKmC,aAAatB,GAAM,S,EAQnCuB,eAAiB,YAAqB,IAAlBC,EAAiB,EAAjBA,WACd,EAAKpC,MAAMG,cAAgBiC,GAC7B,EAAK1B,SAAS,CACZP,YAAaiC,K,EAKnBC,YAAc,YAMP,IALLhG,EAKI,EALJA,IACA0D,EAII,EAJJA,MAGAuC,GACI,EAHJC,YAGI,EAFJC,UAEI,EADJF,OAEA,OACE,yBAAKjG,IAAKA,EAAKiG,MAAOA,EAAOR,UAAU,aACrC,yBAAKA,UAAU,SACZ,EAAKI,aAAa,EAAKlC,MAAMC,UAAUF,KAEzC,EAAKC,MAAME,SAAS,EAAKF,MAAMC,UAAUF,IAAQ8B,KAAI,SAACjB,EAAM6B,GAC3D,OACE,yBACEX,UAAU,OACVC,QAAS,WACP,EAAKV,WAAWT,IAElBvE,IAAKoG,GAEJ7B,EAAKW,Y,kEA1IhBmB,KAAKtC,a,mCAwDMuC,EAAQC,GACnB,OAAQD,GACN,IAAK,MACH,OAAOC,EAAQ,SAAM,2BACvB,IAAK,IACH,OAAOA,EAAQ,SAAM,2BACvB,QACE,OAAOD,EAAOE,iB,+BAmFV,IAAD,OACP,OACE,yBAAKf,UAAU,YAEb,uBACEgB,KAAK,OACLC,KAAM,uBAAMC,KAAK,SACjBC,YAAa,kBAAM,EAAKzB,MAAMC,QAAQC,WAHxC,4BAQA,kBAAC,IAAD,MACG,gBAAGwB,EAAH,EAAGA,OAAQC,EAAX,EAAWA,MAAX,OACC,kBAAC,IAAD,CACEA,MAAOA,EACPD,OAAQA,EACRE,SAAU,EAAKpD,MAAMC,UAAUmB,OAC/BiC,UAAW,EAAKlC,aAChBkB,YAAa,EAAKA,YAClBiB,kBAAkB,QAClBnB,eAAgB,EAAKA,eACrBoB,IAAK,SAAC1B,GACJ,EAAKG,QAAUH,QAMvB,wBAAIC,UAAU,cAAcY,KAAKd,wB,GAtLrB4B,cA4LLzD,a,gCCpMf,sLAGMD,EAAc,SAACH,GACnB,OAAOhD,IAAI8C,IAAI,aAAc,CAC3BgE,OAAQ,CACN9D,WAMAU,EAAY,WAAgB,IAAfqD,EAAc,uDAAN,EACzB,OAAO/G,IAAI8C,IAAI,aAAc,CAC3BgE,OAAQ,CACNC,YAMAnD,EAAa,WACjB,OAAO5D,IAAI8C,IAAI,cAIXkE,EAAe,SAAChE,EAAMiE,GAC1B,OAAOjH,IAAI8C,IAAI,kBAAmB,CAChCgE,OAAQ,CACN9D,OACAiE,SAMAC,EAAe,SAACD,GACpB,OAAOjH,IAAI8C,IAAI,YAAa,CAC1BgE,OAAQ,CACNG,U,mBCvCNhI,EAAOC,QAAU,CAAE,QAAWF,EAAQ,KAA+CQ,YAAY,I,gCCEjGR,EAAQ,IAERA,EAAQ,K,qDCFRG,OAAOgI,eAAejI,EAAS,aAAc,CACzCkI,OAAO,IAGX,IAEIC,EAAYC,EAFAtI,EAAQ,KAMpBuI,EAAmBD,EAFAtI,EAAQ,KAM3BwI,EAAgBF,EAFAtI,EAAQ,KAMxByI,EAA8BH,EAFAtI,EAAQ,KAMtC0I,EAAaJ,EAFAtI,EAAQ,KAMrB2I,EAAeL,EAFDtI,EAAQ,KAMtB4I,EAEJ,SAAiCC,GAAO,GAAIA,GAAOA,EAAIrI,WAAc,OAAOqI,EAAc,IAAIC,EAAS,GAAI,GAAW,MAAPD,EAAe,IAAK,IAAInI,KAAOmI,EAAW1I,OAAO4I,UAAUC,eAAeC,KAAKJ,EAAKnI,KAAMoI,EAAOpI,GAAOmI,EAAInI,IAAmC,OAAzBoI,EAAM,QAAcD,EAAYC,EAFzPI,CAFClJ,EAAQ,IAMrB,SAASsI,EAAuBO,GAAO,OAAOA,GAAOA,EAAIrI,WAAaqI,EAAM,CAAE,QAAWA,GAEzF,IAAIM,EAA0C,SAAUC,EAAGC,GACvD,IAAIC,EAAI,GACR,IAAK,IAAIC,KAAKH,EACNjJ,OAAO4I,UAAUC,eAAeC,KAAKG,EAAGG,IAAMF,EAAEG,QAAQD,GAAK,IAAGD,EAAEC,GAAKH,EAAEG,IAChF,GAAS,MAALH,GAAqD,oBAAjCjJ,OAAOsJ,sBAA2C,KAAIC,EAAI,EAAb,IAAgBH,EAAIpJ,OAAOsJ,sBAAsBL,GAAIM,EAAIH,EAAE9D,OAAQiE,IACjIL,EAAEG,QAAQD,EAAEG,IAAM,IAAGJ,EAAEC,EAAEG,IAAMN,EAAEG,EAAEG,KAC1C,OAAOJ,GAGRK,EAAS,SAAUC,GAGnB,SAASD,IAEL,OADA,EAAIpB,EAAgB,SAAaxB,KAAM4C,IAChC,EAAIlB,EAA2B,SAAa1B,MAAO4C,EAAOE,WAAa1J,OAAOC,eAAeuJ,IAASG,MAAM/C,KAAMgD,YA4C7H,OAhDA,EAAIrB,EAAU,SAAaiB,EAAQC,IAOnC,EAAIpB,EAAa,SAAamB,EAAQ,CAAC,CACnCjJ,IAAK,SACL0H,MAAO,WACH,IAAI4B,EAAKjD,KAAKlB,MACVoE,EAAYD,EAAGC,UACf9D,EAAY6D,EAAG7D,UACf+D,EAAWF,EAAGE,SACd/C,EAAO6C,EAAG7C,KACVC,EAAO4C,EAAG5C,KACVE,EAAc0C,EAAG1C,YACjB6C,EAAcH,EAAGG,YACjBC,EAAeJ,EAAGI,aAClBC,EAAYlB,EAAOa,EAAI,CAAC,YAAa,YAAa,WAAY,OAAQ,OAAQ,cAAe,cAAe,iBAChH,OAAOpB,EAAM0B,cACT,OACA,EAAIjC,EAAS,SAAa,GAAIgC,EAAW,CAAElE,WAAW,EAAIwC,EAAY,SAAaxC,EAAW8D,EAAWA,EAAY,IAAM9C,KAC3HyB,EAAM0B,cACF,MACA,CAAEnE,UAAW8D,EAAY,QAASM,KAAM,SAAUnE,QAASkB,GAC3DF,EAEAwB,EAAM0B,cACF,OACA,CAAEnE,UAAW8D,EAAY,aAAc,cAAe,QACtD7C,GACA,KACJ+C,GAEJvB,EAAM0B,cACF,MACA,CAAEnE,UAAW8D,EAAY,UACzBC,GAEJtB,EAAM0B,cACF,MACA,CAAEnE,UAAW8D,EAAY,UACzBG,QAKTT,EAjDE,CAkDXf,EAAMf,WAER3H,EAAO,QAAcyJ,EAErBA,EAAOa,aAAe,CAClBP,UAAW,YACX9C,KAAM,OACNG,YAAa,cAEjBrH,EAAOC,QAAUA,EAAO,S,mBCzGxB,IAAIuK,EAAUzK,EAAQ,IAClB0K,EAAO1K,EAAQ,IACf2K,EAAQ3K,EAAQ,IACpBC,EAAOC,QAAU,SAAU0K,EAAKC,GAC9B,IAAIC,GAAMJ,EAAKvK,QAAU,IAAIyK,IAAQzK,OAAOyK,GACxCG,EAAM,GACVA,EAAIH,GAAOC,EAAKC,GAChBL,EAAQA,EAAQO,EAAIP,EAAQQ,EAAIN,GAAM,WAAcG,EAAG,MAAQ,SAAUC","file":"static/js/17.da0074b6.chunk.js","sourcesContent":["require('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/_core').Object.getPrototypeOf;\n","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./_to-object');\nvar $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n","module.exports = { \"default\": require(\"core-js/library/fn/object/get-own-property-descriptor\"), __esModule: true };","require('../../modules/es6.object.get-own-property-descriptor');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function getOwnPropertyDescriptor(it, key) {\n  return $Object.getOwnPropertyDescriptor(it, key);\n};\n","// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject = require('./_to-iobject');\nvar $getOwnPropertyDescriptor = require('./_object-gopd').f;\n\nrequire('./_object-sap')('getOwnPropertyDescriptor', function () {\n  return function getOwnPropertyDescriptor(it, key) {\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n","import axios from \"axios\";\nimport { Toast } from \"antd-mobile\";\nimport { getToken } from \"./currentCity\";\n\n// 基地址\nconst BaseURL = \"https://api-haoke-web.itheima.net\";\n\nconst api = axios.create({\n  baseURL: BaseURL,\n});\n\n// Add a request interceptor  请求拦截器\napi.interceptors.request.use(\n  function (config) {\n    const { url, headers } = config;\n    const list = [\"/user/registered\", \"/user/login\"]; // 白名单\n\n    if (url.startsWith(\"/user\") && !list.includes(url)) {\n      // 设置公共请求头\n      headers.authorization = getToken();\n    }\n\n    // 动画加载\n    Toast.loading(\"加载中...\", 0);\n    // Do something before request is sent\n    return config;\n  },\n  function (error) {\n    // Do something with request error\n    return Promise.reject(error);\n  }\n);\n\n// Add a response interceptor  响应拦截器\napi.interceptors.response.use(\n  function (response) {\n    // 简化返回结果\n    let res = {\n      status: response.data.status,\n      description: response.data.description,\n      data: response.data.body,\n    };\n    // 动画结束\n    Toast.hide();\n    return res;\n  },\n  function (error) {\n    // Any status codes that falls outside the range of 2xx cause this function to trigger\n    // Do something with response error\n    return Promise.reject(error);\n  }\n);\n\nexport default api;\nexport { BaseURL };\n","import { getCityInfo } from \"./api/area\";\n\nconst CURR_CITY = \"currCity\"; // 当前城市\nconst USER_TOKEN = \"token\";\n\n// 设置Token\nconst setToken = (data) => {\n  localStorage.setItem(USER_TOKEN, data);\n};\n\n// 获取Token\nconst getToken = () => {\n  let token = localStorage.getItem(USER_TOKEN);\n  return token;\n};\n\n// 删除Token\nconst removeToken = () => {\n  localStorage.removeItem(USER_TOKEN);\n};\n\n// 是否登录判断：boolean\nconst isAuth = () => !!getToken();\n\n// 设置当前城市\nconst setSession = (data) => {\n  sessionStorage.setItem(CURR_CITY, JSON.stringify(data));\n};\n\n// 获取当前城市\nconst getSession = () => {\n  let currCity = sessionStorage.getItem(CURR_CITY);\n  if (!!!currCity) return null;\n  return JSON.parse(currCity);\n};\n\n// 删除当前城市\n// const removeSession = () => {\n//   sessionStorage.removeItem(CURR_CITY);\n// };\n\n// 百度获取\nconst getCurrCityByMap = () => {\n  return new Promise((resolve, reject) => {\n    // 使用百度地图LocalCity获取当前的城市名称\n    const myCity = new window.BMap.LocalCity();\n    myCity.get((result) => {\n      // 根据百度地图获取到城市名字，调用后台接口获取当前城市的详细数据\n      resolve(result.name);\n    });\n  });\n};\n\n// 获取当前城市信息\nconst getCurrCity = async () => {\n  // 内存中找\n  const currCityByLocal = getSession();\n\n  // 定位\n  const currCityByMap = await getCurrCityByMap();\n  // 内存中没有 || 内存中有键没值 || 定位和内存中的值不匹配  这样判断，手动切换城市就会有bug\n  // if (\n  //   !currCityByLocal ||\n  //   !currCityByLocal.label ||\n  //   !currCityByMap.includes(currCityByLocal.label)\n  // ) {\n\n  if (!currCityByLocal) {\n    return new Promise(async (resove, reject) => {\n      // 调用接口获取城市详细信息\n      const { status, data } = await getCityInfo(currCityByMap);\n      if (status === 200) {\n        // 存到本地\n        setSession(data);\n        // 传递数据\n        resove(data);\n      } else {\n        reject(\"error\");\n      }\n    });\n  } else {\n    // 如果有，返回本地存储获取的信息\n    return Promise.resolve(currCityByLocal);\n  }\n};\n\nexport {\n  getCurrCity,\n  setSession,\n  CURR_CITY,\n  setToken,\n  getToken,\n  removeToken,\n  isAuth,\n};\n","import React, { Component } from \"react\";\nimport { getCities, getHotCity } from \"../../utils/api/area\";\nimport { getCurrCity, setSession } from \"../../utils/currentCity\";\nimport \"react-virtualized/styles.css\";\nimport { List, AutoSizer } from \"react-virtualized\";\nimport { NavBar, Icon, Toast } from \"antd-mobile\";\nimport \"./index.scss\";\n\nclass index extends Component {\n  state = {\n    cityIndex: [],\n    cityList: {},\n    activeIndex: 0,\n  };\n  componentDidMount() {\n    this.loadData();\n  }\n\n  // 获取城市列表数据\n  loadData = async () => {\n    // 获取所有城市列表\n    let res = await getCities();\n\n    // 获得格式化后的城市列表\n    let { cityIndex, cityList } = this.formatCities(res);\n\n    // 添加热门城市\n    let hotCity = await getHotCity();\n    if (res.status === 200) {\n      cityIndex.unshift(\"hot\");\n      cityList[\"hot\"] = hotCity.data;\n    }\n\n    // 添加当前城市\n    let currCity = await getCurrCity();\n    cityIndex.unshift(\"#\");\n    cityList[\"#\"] = [currCity];\n\n    this.setState({\n      cityIndex,\n      cityList,\n    });\n  };\n\n  // 格式化城市数据\n  formatCities = (res) => {\n    let cityList = {},\n      cityIndex;\n    if (res.status !== 200) {\n      return { cityList, cityIndex };\n    }\n\n    // 遍历所有城市，进行分类整理\n    res.data.forEach((item) => {\n      let head = item.pinyin.slice(0, 1); //首字母\n\n      //如果包含首字母(属性)，追加；如果没有，则设置数组，并填入城市对象\n      if (head in cityList) {\n        cityList[head].push(item);\n      } else {\n        cityList[head] = [item];\n      }\n    });\n\n    // 生成一级分类数组并排序\n    cityIndex = Object.keys(cityList).sort();\n\n    return { cityList, cityIndex };\n  };\n\n  // 格式化字母(处理热门城市和当前城市)\n  formatLetter(letter, first) {\n    switch (letter) {\n      case \"hot\":\n        return first ? \"热\" : \"热门城市\";\n      case \"#\":\n        return first ? \"当\" : \"当前城市\";\n      default:\n        return letter.toUpperCase();\n    }\n  }\n\n  // 动态获取行高\n  getRowheight = ({ index }) => {\n    const { cityIndex, cityList } = this.state;\n    let letter = cityIndex[index];\n    // title高度+城市高度*城市个数\n    return 36 + 50 * cityList[letter].length;\n  };\n\n  // 城市列表点击事件\n  // 切换城市\n  changeCity = (city) => {\n    const hasData = [\"北京\", \"上海\", \"广州\", \"深圳\"];\n    if (hasData.includes(city.label)) {\n      setSession(city);\n      this.props.history.goBack();\n    } else {\n      Toast.info(\"该城市暂无房源数据！\", 2);\n    }\n  };\n\n  // 渲染右侧索引列表\n  renderCityIndex = () => {\n    const { cityIndex, activeIndex } = this.state;\n    return cityIndex.map((item, index) => {\n      return (\n        <li\n          key={item}\n          className=\"city-index-item\"\n          onClick={() => {\n            // 调用\n            this.listRef.scrollToRow(index);\n          }}\n        >\n          <span className={activeIndex === index ? \"index-active\" : \"\"}>\n            {this.formatLetter(item, true)}\n          </span>\n        </li>\n      );\n    });\n  };\n\n  // 滚动列表触发（每次重新渲染列表后都会触发）\n  onRowsRendered = ({ startIndex }) => {\n    if (this.state.activeIndex !== startIndex) {\n      this.setState({\n        activeIndex: startIndex,\n      });\n    }\n  };\n\n  rowRenderer = ({\n    key, // Unique key within array of rows\n    index, // Index of row within collection\n    isScrolling, // The List is currently being scrolled\n    isVisible, // This row is visible within the List (eg it is not an overscanned row)\n    style, // Style object to be applied to row (to position it)\n  }) => {\n    return (\n      <div key={key} style={style} className=\"city-item\">\n        <div className=\"title\">\n          {this.formatLetter(this.state.cityIndex[index])}\n        </div>\n        {this.state.cityList[this.state.cityIndex[index]].map((item, k) => {\n          return (\n            <div\n              className=\"name\"\n              onClick={() => {\n                this.changeCity(item);\n              }}\n              key={k}\n            >\n              {item.label}\n            </div>\n          );\n        })}\n      </div>\n    );\n  };\n\n  render() {\n    return (\n      <div className=\"cityList\">\n        {/* 导航返回 */}\n        <NavBar\n          mode=\"dark\"\n          icon={<Icon type=\"left\" />}\n          onLeftClick={() => this.props.history.goBack()}\n        >\n          城市选择\n        </NavBar>\n        {/* 列表 */}\n        <AutoSizer>\n          {({ height, width }) => (\n            <List\n              width={width}\n              height={height}\n              rowCount={this.state.cityIndex.length}\n              rowHeight={this.getRowheight}\n              rowRenderer={this.rowRenderer}\n              scrollToAlignment=\"start\"\n              onRowsRendered={this.onRowsRendered}\n              ref={(map) => {\n                this.listRef = map;\n              }}\n            />\n          )}\n        </AutoSizer>\n        {/* 右侧索引列表 */}\n        <ul className=\"city-index\">{this.renderCityIndex()}</ul>\n      </div>\n    );\n  }\n}\n\nexport default index;\n","import api from \"../../axios\";\n\n// 根据城市名称查询该城市的信息\nconst getCityInfo = (name) => {\n  return api.get(\"/area/info\", {\n    params: {\n      name,\n    },\n  });\n};\n\n// 获取城市列表数据\nconst getCities = (level = 1) => {\n  return api.get(\"/area/city\", {\n    params: {\n      level,\n    },\n  });\n};\n\n// 获取热门城市\nconst getHotCity = () => {\n  return api.get(\"/area/hot\");\n};\n\n// 小区关键词查询\nconst getCommunity = (name, id) => {\n  return api.get(\"/area/community\", {\n    params: {\n      name,\n      id,\n    },\n  });\n};\n\n// 查询房源数据\nconst getMapHouses = (id) => {\n  return api.get(\"/area/map\", {\n    params: {\n      id,\n    },\n  });\n};\n\nexport { getCityInfo, getCities, getHotCity, getCommunity, getMapHouses };\n","module.exports = { \"default\": require(\"core-js/library/fn/object/get-prototype-of\"), __esModule: true };","'use strict';\n\nrequire('../../style/css');\n\nrequire('./index.css');","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar __rest = undefined && undefined.__rest || function (s, e) {\n    var t = {};\n    for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n    }if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n    }return t;\n};\n\nvar NavBar = function (_React$Component) {\n    (0, _inherits3['default'])(NavBar, _React$Component);\n\n    function NavBar() {\n        (0, _classCallCheck3['default'])(this, NavBar);\n        return (0, _possibleConstructorReturn3['default'])(this, (NavBar.__proto__ || Object.getPrototypeOf(NavBar)).apply(this, arguments));\n    }\n\n    (0, _createClass3['default'])(NavBar, [{\n        key: 'render',\n        value: function render() {\n            var _a = this.props,\n                prefixCls = _a.prefixCls,\n                className = _a.className,\n                children = _a.children,\n                mode = _a.mode,\n                icon = _a.icon,\n                onLeftClick = _a.onLeftClick,\n                leftContent = _a.leftContent,\n                rightContent = _a.rightContent,\n                restProps = __rest(_a, [\"prefixCls\", \"className\", \"children\", \"mode\", \"icon\", \"onLeftClick\", \"leftContent\", \"rightContent\"]);\n            return React.createElement(\n                'div',\n                (0, _extends3['default'])({}, restProps, { className: (0, _classnames2['default'])(className, prefixCls, prefixCls + '-' + mode) }),\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-left', role: 'button', onClick: onLeftClick },\n                    icon ?\n                    // tslint:disable-next-line:jsx-no-multiline-js\n                    React.createElement(\n                        'span',\n                        { className: prefixCls + '-left-icon', 'aria-hidden': 'true' },\n                        icon\n                    ) : null,\n                    leftContent\n                ),\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-title' },\n                    children\n                ),\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-right' },\n                    rightContent\n                )\n            );\n        }\n    }]);\n    return NavBar;\n}(React.Component);\n\nexports['default'] = NavBar;\n\nNavBar.defaultProps = {\n    prefixCls: 'am-navbar',\n    mode: 'dark',\n    onLeftClick: function onLeftClick() {}\n};\nmodule.exports = exports['default'];","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n"],"sourceRoot":""}