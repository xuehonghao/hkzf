{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/HousePackage/index.js","components/HousePackage/index.module.css","components/HouseDetail/index.module.css","utils/axios.js","utils/currentCity.js","components/HouseDetail/index.js","utils/api/area/index.js","../node_modules/antd-mobile/lib/nav-bar/style/css.js","../node_modules/antd-mobile/lib/nav-bar/index.js","utils/api/user/index.js","components/HouseItem/index.js","components/HouseItem/index.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","utils/api/house/index.js"],"names":["_unsupportedIterableToArray","o","minLen","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","_toConsumableArray","arr","isArray","arrayLikeToArray","iter","Symbol","iterator","unsupportedIterableToArray","TypeError","HOUSE_PACKAGE","id","icon","HousePackage","state","selectedNames","toggleSelect","newSelectedNames","indexOf","filter","item","props","onSelect","setState","console","log","this","data","split","select","list","v","includes","map","isSelected","key","className","styles","active","join","onClick","root","renderItems","Component","module","exports","BaseURL","api","axios","create","baseURL","interceptors","request","use","config","url","headers","startsWith","authorization","getToken","loading","error","Promise","reject","response","res","status","description","body","hide","setToken","localStorage","setItem","getItem","removeToken","removeItem","isAuth","setSession","sessionStorage","JSON","stringify","getSession","currCity","parse","getCurrCity","a","currCityByLocal","resolve","window","BMap","LocalCity","get","result","currCityByMap","resove","getCityInfo","recommendHouses","src","BASE_URL","desc","title","price","tags","labelStyle","position","zIndex","backgroundColor","color","height","padding","lineHeight","borderRadius","boxShadow","whiteSpace","fontSize","userSelect","alert","HouseDetail","isLoading","houseInfo","houseImg","roomType","size","oriented","floor","community","coord","latitude","longitude","supporting","houseCode","isFavorite","checkHouseFav","match","params","getHousesFav","history","location","text","onPress","push","pathname","backUrl","handleFavorite","delFav","addFav","getHouseDetail","getHousesById","renderMap","href","alt","Map","point","Point","centerAndZoom","label","Label","offset","Size","setStyle","setContent","mapArrow","addOverlay","index","tagClass","tag","mode","type","onLeftClick","goBack","rightContent","slides","autoplay","infinite","autoplayInterval","renderSwipers","info","infoTitle","Item","renderTags","infoPrice","infoPriceItem","month","infoBasic","align","mapTitle","mapContainer","about","houseTitle","length","titleEmpty","set","contact","user","useInfo","userAuth","userMsg","descText","recommend","items","fixedBottom","favoriteImg","favorite","telephone","getCities","level","getHotCity","getCommunity","getMapHouses","require","defineProperty","value","_extends3","_interopRequireDefault","_classCallCheck3","_createClass3","_possibleConstructorReturn3","_inherits3","_classnames2","React","obj","__esModule","newObj","hasOwnProperty","_interopRequireWildcard","__rest","s","e","t","p","getOwnPropertySymbols","i","NavBar","_React$Component","__proto__","getPrototypeOf","apply","arguments","_a","prefixCls","children","leftContent","restProps","createElement","role","defaultProps","login","username","password","post","getUserInfo","logout","delete","getUserHouses","pubHouse","HouseItem","style","house","imgWrap","img","content","priceNum","_arrayLikeToArray","len","arr2","getHousesCondition","getHouses","cityId","filters","start","end"],"mappings":"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","file":"static/js/13.95bfaf3c.chunk.js","sourcesContent":["import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { Component } from \"react\";\n\nimport styles from \"./index.module.css\";\n\n// 所有房屋配套数据和图标\nconst HOUSE_PACKAGE = [\n  {\n    id: 1,\n    name: \"衣柜\",\n    icon: \"icon-wardrobe\",\n  },\n  {\n    id: 2,\n    name: \"洗衣机\",\n    icon: \"icon-wash\",\n  },\n  {\n    id: 3,\n    name: \"空调\",\n    icon: \"icon-air\",\n  },\n  {\n    id: 4,\n    name: \"天然气\",\n    icon: \"icon-gas\",\n  },\n  {\n    id: 5,\n    name: \"冰箱\",\n    icon: \"icon-ref\",\n  },\n  {\n    id: 6,\n    name: \"暖气\",\n    icon: \"icon-Heat\",\n  },\n  {\n    id: 7,\n    name: \"电视\",\n    icon: \"icon-vid\",\n  },\n  {\n    id: 8,\n    name: \"热水器\",\n    icon: \"icon-heater\",\n  },\n  {\n    id: 9,\n    name: \"宽带\",\n    icon: \"icon-broadband\",\n  },\n  {\n    id: 10,\n    name: \"沙发\",\n    icon: \"icon-sofa\",\n  },\n];\n\n/* \n  该组件的两种功能：\n  1 根据传入的 list 展示房屋配置列表（房源详情页面）\n    <HousePackage list={['衣柜', '洗衣机']} />\n  2 从所有配置列表中选择房屋配置（发布房源页面）\n    <HousePackage select onSelect={selectedItems => {...}} />\n*/\nexport default class HousePackage extends Component {\n  state = {\n    // 选中名称\n    selectedNames: [],\n  };\n\n  componentDidMount() {\n    // debugger\n    console.log(\"====================================\");\n    console.log(this.props);\n    console.log(\"====================================\");\n    if (!!this.props.data) {\n      this.setState({\n        selectedNames: this.props.data.split(\"|\"),\n      });\n    }\n  }\n\n  // 根据id切换选中状态\n  toggleSelect = (name) => {\n    const { selectedNames } = this.state;\n    let newSelectedNames;\n\n    // 判断该项是否选中\n    if (selectedNames.indexOf(name) > -1) {\n      // 选中：从数组中删除选中项，也就是保留未选中项\n      newSelectedNames = selectedNames.filter((item) => item !== name);\n    } else {\n      // 未选中：添加到数组中\n      newSelectedNames = [...selectedNames, name];\n    }\n\n    // 传递给父组件\n    this.props.onSelect(newSelectedNames);\n\n    this.setState({\n      selectedNames: newSelectedNames,\n    });\n  };\n\n  // 渲染列表项\n  renderItems() {\n    const { selectedNames } = this.state;\n    // select 的值为 true 表示 选择房屋配置；false 表示仅展示房屋列表\n    // list 表示要展示的列表项\n    const { select, list } = this.props;\n\n    let data;\n    // 如果传了 select 表示：选择 房屋配置\n    // 如果没传 select 表示：展示 房屋配置 列表\n    if (select) {\n      data = HOUSE_PACKAGE;\n    } else {\n      // 展示房屋配置列表\n      // 从所有的列表项中过滤出要展示的（list）列表项\n      data = HOUSE_PACKAGE.filter((v) => list.includes(v.name));\n    }\n\n    return data.map((item) => {\n      // 判断该项是否选中\n      const isSelected = selectedNames.indexOf(item.name) > -1;\n\n      return (\n        <li\n          key={item.id}\n          className={[styles.item, isSelected ? styles.active : \"\"].join(\" \")}\n          onClick={select && (() => this.toggleSelect(item.name))}\n        >\n          <p>\n            <i className={`iconfont ${item.icon} ${styles.icon}`} />\n          </p>\n          {item.name}\n        </li>\n      );\n    });\n  }\n\n  render() {\n    return <ul className={styles.root}>{this.renderItems()}</ul>;\n  }\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"HousePackage_root__1MUw0\",\"item\":\"HousePackage_item__2q4AQ\",\"active\":\"HousePackage_active__dDdti\",\"icon\":\"HousePackage_icon__2hT31\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"HouseDetail_root__a7xDk\",\"slides\":\"HouseDetail_slides__2ahKu\",\"navHeader\":\"HouseDetail_navHeader__7hWmh\",\"info\":\"HouseDetail_info__39Yew\",\"infoTitle\":\"HouseDetail_infoTitle__3y-zd\",\"tags\":\"HouseDetail_tags__2_Dc3\",\"tag\":\"HouseDetail_tag__2dlyo\",\"tag1\":\"HouseDetail_tag1__558Yt\",\"tag2\":\"HouseDetail_tag2__eV4uu\",\"tag3\":\"HouseDetail_tag3__1fW1y\",\"infoPrice\":\"HouseDetail_infoPrice__25C4Z\",\"infoPriceItem\":\"HouseDetail_infoPriceItem__12TPc\",\"month\":\"HouseDetail_month__1T_vS\",\"infoBasic\":\"HouseDetail_infoBasic__1oq18\",\"title\":\"HouseDetail_title__1leex\",\"map\":\"HouseDetail_map__qJtbR\",\"mapTitle\":\"HouseDetail_mapTitle__3Wxkw\",\"mapContainer\":\"HouseDetail_mapContainer__39GaD\",\"mapArrow\":\"HouseDetail_mapArrow__l68GH\",\"houseTitle\":\"HouseDetail_houseTitle__3y23i\",\"about\":\"HouseDetail_about__6KkzM\",\"set\":\"HouseDetail_set__jQm1x\",\"titleEmpty\":\"HouseDetail_titleEmpty__2GEiv\",\"contact\":\"HouseDetail_contact__2tkwC\",\"user\":\"HouseDetail_user__25nBd\",\"useInfo\":\"HouseDetail_useInfo__Tfvrs\",\"userAuth\":\"HouseDetail_userAuth__2KnxD\",\"userMsg\":\"HouseDetail_userMsg__1I8Lr\",\"descText\":\"HouseDetail_descText__3AVk-\",\"recommend\":\"HouseDetail_recommend__2ofnO\",\"items\":\"HouseDetail_items__1o4-U\",\"fixedBottom\":\"HouseDetail_fixedBottom__2JBAN\",\"favorite\":\"HouseDetail_favorite__13-f2\",\"favoriteImg\":\"HouseDetail_favoriteImg__1xELB\",\"telephone\":\"HouseDetail_telephone__2NlLS\"};","import axios from \"axios\";\nimport { Toast } from \"antd-mobile\";\nimport { getToken } from \"./currentCity\";\n\n// 基地址\nconst BaseURL = \"https://api-haoke-web.itheima.net\";\n\nconst api = axios.create({\n  baseURL: BaseURL,\n});\n\n// Add a request interceptor  请求拦截器\napi.interceptors.request.use(\n  function (config) {\n    const { url, headers } = config;\n    const list = [\"/user/registered\", \"/user/login\"]; // 白名单\n\n    if (url.startsWith(\"/user\") && !list.includes(url)) {\n      // 设置公共请求头\n      headers.authorization = getToken();\n    }\n\n    // 动画加载\n    Toast.loading(\"加载中...\", 0);\n    // Do something before request is sent\n    return config;\n  },\n  function (error) {\n    // Do something with request error\n    return Promise.reject(error);\n  }\n);\n\n// Add a response interceptor  响应拦截器\napi.interceptors.response.use(\n  function (response) {\n    // 简化返回结果\n    let res = {\n      status: response.data.status,\n      description: response.data.description,\n      data: response.data.body,\n    };\n    // 动画结束\n    Toast.hide();\n    return res;\n  },\n  function (error) {\n    // Any status codes that falls outside the range of 2xx cause this function to trigger\n    // Do something with response error\n    return Promise.reject(error);\n  }\n);\n\nexport default api;\nexport { BaseURL };\n","import { getCityInfo } from \"./api/area\";\n\nconst CURR_CITY = \"currCity\"; // 当前城市\nconst USER_TOKEN = \"token\";\n\n// 设置Token\nconst setToken = (data) => {\n  localStorage.setItem(USER_TOKEN, data);\n};\n\n// 获取Token\nconst getToken = () => {\n  let token = localStorage.getItem(USER_TOKEN);\n  return token;\n};\n\n// 删除Token\nconst removeToken = () => {\n  localStorage.removeItem(USER_TOKEN);\n};\n\n// 是否登录判断：boolean\nconst isAuth = () => !!getToken();\n\n// 设置当前城市\nconst setSession = (data) => {\n  sessionStorage.setItem(CURR_CITY, JSON.stringify(data));\n};\n\n// 获取当前城市\nconst getSession = () => {\n  let currCity = sessionStorage.getItem(CURR_CITY);\n  if (!!!currCity) return null;\n  return JSON.parse(currCity);\n};\n\n// 删除当前城市\n// const removeSession = () => {\n//   sessionStorage.removeItem(CURR_CITY);\n// };\n\n// 百度获取\nconst getCurrCityByMap = () => {\n  return new Promise((resolve, reject) => {\n    // 使用百度地图LocalCity获取当前的城市名称\n    const myCity = new window.BMap.LocalCity();\n    myCity.get((result) => {\n      // 根据百度地图获取到城市名字，调用后台接口获取当前城市的详细数据\n      resolve(result.name);\n    });\n  });\n};\n\n// 获取当前城市信息\nconst getCurrCity = async () => {\n  // 内存中找\n  const currCityByLocal = getSession();\n\n  // 定位\n  const currCityByMap = await getCurrCityByMap();\n  // 内存中没有 || 内存中有键没值 || 定位和内存中的值不匹配  这样判断，手动切换城市就会有bug\n  // if (\n  //   !currCityByLocal ||\n  //   !currCityByLocal.label ||\n  //   !currCityByMap.includes(currCityByLocal.label)\n  // ) {\n\n  if (!currCityByLocal) {\n    return new Promise(async (resove, reject) => {\n      // 调用接口获取城市详细信息\n      const { status, data } = await getCityInfo(currCityByMap);\n      if (status === 200) {\n        // 存到本地\n        setSession(data);\n        // 传递数据\n        resove(data);\n      } else {\n        reject(\"error\");\n      }\n    });\n  } else {\n    // 如果有，返回本地存储获取的信息\n    return Promise.resolve(currCityByLocal);\n  }\n};\n\nexport {\n  getCurrCity,\n  setSession,\n  CURR_CITY,\n  setToken,\n  getToken,\n  removeToken,\n  isAuth,\n};\n","import React, { Component } from \"react\";\nimport { Carousel, Flex, Modal, NavBar, Icon } from \"antd-mobile\";\nimport HouseItem from \"../HouseItem\";\nimport styles from \"./index.module.css\";\nimport HousePackage from \"../HousePackage\";\n\nimport { getHousesById } from \"../../utils/api/house\";\nimport { BaseURL as BASE_URL } from \"../../utils/axios\";\nimport { isAuth } from \"../../utils/currentCity\";\nimport { getHousesFav, delFav, addFav } from \"../../utils/api/user\";\n// 猜你喜欢\nconst recommendHouses = [\n  {\n    id: 1,\n    src: BASE_URL + \"/img/message/1.png\",\n    desc: \"72.32㎡/南 北/低楼层\",\n    title: \"安贞西里 3室1厅\",\n    price: 4500,\n    tags: [\"随时看房\"],\n  },\n  {\n    id: 2,\n    src: BASE_URL + \"/img/message/2.png\",\n    desc: \"83㎡/南/高楼层\",\n    title: \"天居园 2室1厅\",\n    price: 7200,\n    tags: [\"近地铁\"],\n  },\n  {\n    id: 3,\n    src: BASE_URL + \"/img/message/3.png\",\n    desc: \"52㎡/西南/低楼层\",\n    title: \"角门甲4号院 1室1厅\",\n    price: 4300,\n    tags: [\"集中供暖\"],\n  },\n];\n\n// 百度地图\nconst BMap = window.BMap;\n\nconst labelStyle = {\n  position: \"absolute\",\n  zIndex: -7982820,\n  backgroundColor: \"rgb(238, 93, 91)\",\n  color: \"rgb(255, 255, 255)\",\n  height: 25,\n  padding: \"5px 10px\",\n  lineHeight: \"14px\",\n  borderRadius: 3,\n  boxShadow: \"rgb(204, 204, 204) 2px 2px 2px\",\n  whiteSpace: \"nowrap\",\n  fontSize: 12,\n  userSelect: \"none\",\n};\n\nconst alert = Modal.alert;\n\nexport default class HouseDetail extends Component {\n  state = {\n    // 数据加载中状态\n    isLoading: false,\n\n    // 房屋详情\n    houseInfo: {\n      // 房屋图片\n      houseImg: [],\n      // 标题\n      title: \"\",\n      // 标签\n      tags: [],\n      // 租金\n      price: 0,\n      // 房型\n      roomType: \"\",\n      // 房屋面积\n      size: 0,\n      // 朝向\n      oriented: [],\n      // 楼层\n      floor: \"\",\n      // 小区名称\n      community: \"\",\n      // 地理位置\n      coord: {\n        latitude: \"39.928033\",\n        longitude: \"116.529466\",\n      },\n      // 房屋配套\n      supporting: [],\n      // 房屋标识\n      houseCode: \"\",\n      // 房屋描述\n      description: \"\",\n    },\n\n    // 表示房源是否收藏\n    isFavorite: false,\n  };\n\n  componentDidMount() {\n    // 获取配置好的路由参数：\n    // console.log('路由参数对象：', this.props.match.params)\n    // console.log(this.props)\n\n    // 获取房屋数据\n    this.getHouseDetail();\n    // 检测房子是否收藏过\n    this.checkHouseFav();\n  }\n\n  // 检查房子是否收藏过\n  checkHouseFav = async () => {\n    if (!isAuth()) return;\n    const { id } = this.props.match.params;\n    let res = await getHousesFav(id);\n    console.log(res);\n    if (res.status === 200) {\n      this.setState({\n        isFavorite: res.data.isFavorite,\n      });\n    } else {\n      const { history, location } = this.props;\n      // 如果token过期，提示用户是否重新登录\n      alert(\"提示\", \"登录信息已过期，是否重新登录？\", [\n        { text: \"取消\" },\n        {\n          text: \"去登录\",\n          onPress: async () => {\n            history.push({ pathname: \"/login\", backUrl: location.pathname });\n          },\n        },\n      ]);\n    }\n  };\n\n  /* \n      收藏房源：\n\n      1 给收藏按钮绑定单击事件，创建方法 handleFavorite 作为事件处理程序。\n      2 调用 isAuth 方法，判断是否登录。\n      3 如果未登录，则使用 Modal.alert 提示用户是否去登录。\n      4 如果点击取消，则不做任何操作。\n      5 如果点击去登录，就跳转到登录页面，同时传递 state（登录后，再回到房源收藏页面）。\n      \n      6 根据 isFavorite 判断，当前房源是否收藏。\n      7 如果未收藏，就调用添加收藏接口，添加收藏。\n      8 如果已收藏，就调用删除收藏接口，去除收藏。\n\n      alert('提示', '登录后才能收藏房源，是否去登录?', [\n        { text: '取消' },\n        {\n          text: '去登录',\n          onPress: () => {}\n        }\n      ])\n    */\n  handleFavorite = async () => {\n    const { history, match, location } = this.props;\n    console.log(this.props);\n    if (!isAuth()) {\n      alert(\"提示\", \"登录后才能收藏房源，是否登录？\", [\n        { text: \"取消\" },\n        {\n          text: \"去登录\",\n          onPress: async () => {\n            history.push({ pathname: \"/login\", backUrl: location.pathname });\n          },\n        },\n      ]);\n    } else {\n      const { isFavorite } = this.state;\n      const { id } = match.params;\n      if (isFavorite) {\n        // 删除收藏\n        const res = await delFav(id);\n        res.status === 200 &&\n          this.setState({\n            isFavorite: false,\n          });\n      } else {\n        // 添加收藏\n        const res = await addFav(id);\n        if (res.status === 200) {\n          this.setState({\n            isFavorite: true,\n          });\n        }\n      }\n    }\n  };\n\n  // 获取房屋详细信息\n  async getHouseDetail() {\n    const { id } = this.props.match.params;\n\n    // 开启loading\n    this.setState({\n      isLoading: true,\n    });\n\n    const res = await getHousesById(id);\n\n    console.log(res.data);\n\n    this.setState({\n      houseInfo: res.data,\n      isLoading: false,\n    });\n\n    const { community, coord } = res.data;\n\n    // 渲染地图\n    this.renderMap(community, coord);\n  }\n\n  // 渲染轮播图结构\n  renderSwipers() {\n    const {\n      houseInfo: { houseImg },\n    } = this.state;\n\n    return houseImg.map((item) => (\n      <a key={item} href=\"http://itcast.cn\">\n        <img src={BASE_URL + item} alt=\"\" />\n      </a>\n    ));\n  }\n\n  // 渲染地图\n  renderMap(community, coord) {\n    const { latitude, longitude } = coord;\n\n    const map = new BMap.Map(\"map\");\n    const point = new BMap.Point(longitude, latitude);\n    map.centerAndZoom(point, 17);\n\n    const label = new BMap.Label(\"\", {\n      position: point,\n      offset: new BMap.Size(0, -36),\n    });\n\n    label.setStyle(labelStyle);\n    label.setContent(`\n        <span>${community}</span>\n        <div class=\"${styles.mapArrow}\"></div>\n      `);\n    map.addOverlay(label);\n  }\n\n  // 渲染标签\n  renderTags() {\n    const {\n      houseInfo: { tags },\n    } = this.state;\n\n    return tags.map((item, index) => {\n      // 如果标签数量超过3个，后面的标签就都展示位第三个标签的样式\n      let tagClass = \"\";\n      if (index > 2) {\n        tagClass = \"tag3\";\n      } else {\n        tagClass = \"tag\" + (index + 1);\n      }\n\n      return (\n        <span key={item} className={[styles.tag, styles[tagClass]].join(\" \")}>\n          {item}\n        </span>\n      );\n    });\n  }\n\n  render() {\n    const {\n      isLoading,\n      houseInfo: {\n        community = \"\",\n        title,\n        price,\n        roomType,\n        size,\n        floor,\n        oriented,\n        supporting,\n        description,\n      },\n      isFavorite,\n    } = this.state;\n    return (\n      <div className={styles.root}>\n        {/* 导航栏 */}\n        <NavBar\n          mode=\"dark\"\n          icon={<Icon type=\"left\" />}\n          onLeftClick={() => this.props.history.goBack()}\n          rightContent={[<i key=\"share\" className=\"iconfont icon-share\" />]}\n        >\n          房屋详情\n        </NavBar>\n        {/* 轮播图 */}\n        <div className={styles.slides}>\n          {!isLoading ? (\n            <Carousel autoplay infinite autoplayInterval={5000}>\n              {this.renderSwipers()}\n            </Carousel>\n          ) : (\n            \"\"\n          )}\n        </div>\n        {/* 房屋基础信息 */}\n        <div className={styles.info}>\n          <h3 className={styles.infoTitle}>{title}</h3>\n          <Flex className={styles.tags}>\n            <Flex.Item>{this.renderTags()}</Flex.Item>\n          </Flex>\n\n          <Flex className={styles.infoPrice}>\n            <Flex.Item className={styles.infoPriceItem}>\n              <div>\n                {price}\n                <span className={styles.month}>/月</span>\n              </div>\n              <div>租金</div>\n            </Flex.Item>\n            <Flex.Item className={styles.infoPriceItem}>\n              <div>{roomType}</div>\n              <div>房型</div>\n            </Flex.Item>\n            <Flex.Item className={styles.infoPriceItem}>\n              <div>{size}平米</div>\n              <div>面积</div>\n            </Flex.Item>\n          </Flex>\n\n          <Flex className={styles.infoBasic} align=\"start\">\n            <Flex.Item>\n              <div>\n                <span className={styles.title}>装修：</span>\n                精装\n              </div>\n              <div>\n                <span className={styles.title}>楼层：</span>\n                {floor}\n              </div>\n            </Flex.Item>\n            <Flex.Item>\n              <div>\n                <span className={styles.title}>朝向：</span>\n                {oriented.join(\"、\")}\n              </div>\n              <div>\n                <span className={styles.title}>类型：</span>普通住宅\n              </div>\n            </Flex.Item>\n          </Flex>\n        </div>\n        {/* 地图位置 */}\n        <div className={styles.map}>\n          <div className={styles.mapTitle}>\n            小区：\n            <span>{community}</span>\n          </div>\n          <div className={styles.mapContainer} id=\"map\">\n            地图\n          </div>\n        </div>\n        {/* 房屋配套 */}\n        <div className={styles.about}>\n          <div className={styles.houseTitle}>房屋配套</div>\n          {/* <HousePackage list={supporting} /> */}\n          {/* <div className=\"title-empty\">暂无数据</div> */}\n\n          {supporting.length === 0 ? (\n            <div className={styles.titleEmpty}>暂无数据</div>\n          ) : (\n            <HousePackage list={supporting} />\n          )}\n        </div>\n        {/* 房屋概况 */}\n        <div className={styles.set}>\n          <div className={styles.houseTitle}>房源概况</div>\n          <div>\n            <div className={styles.contact}>\n              <div className={styles.user}>\n                <img src={BASE_URL + \"/img/avatar.png\"} alt=\"头像\" />\n                <div className={styles.useInfo}>\n                  <div>王女士</div>\n                  <div className={styles.userAuth}>\n                    <i className=\"iconfont icon-auth\" />\n                    已认证房主\n                  </div>\n                </div>\n              </div>\n              <span className={styles.userMsg}>发消息</span>\n            </div>\n\n            <div className={styles.descText}>\n              {description || \"暂无房屋描述\"}\n            </div>\n          </div>\n        </div>\n        {/* 推荐 */}\n        <div className={styles.recommend}>\n          <div className={styles.houseTitle}>猜你喜欢</div>\n          <div className={styles.items}>\n            {recommendHouses.map((item) => (\n              <HouseItem {...item} key={item.id} />\n            ))}\n          </div>\n        </div>\n        {/* 底部收藏按钮 */}\n        <Flex className={styles.fixedBottom}>\n          <Flex.Item onClick={this.handleFavorite}>\n            <img\n              src={\n                BASE_URL + (isFavorite ? \"/img/star.png\" : \"/img/unstar.png\")\n              }\n              className={styles.favoriteImg}\n              alt=\"收藏\"\n            />\n            <span className={styles.favorite}>\n              {isFavorite ? \"已收藏\" : \"收藏\"}\n            </span>\n          </Flex.Item>\n          <Flex.Item>在线咨询</Flex.Item>\n          <Flex.Item>\n            <a href=\"tel:400-618-4000\" className={styles.telephone}>\n              电话预约\n            </a>\n          </Flex.Item>\n        </Flex>\n      </div>\n    );\n  }\n}\n","import api from \"../../axios\";\n\n// 根据城市名称查询该城市的信息\nconst getCityInfo = (name) => {\n  return api.get(\"/area/info\", {\n    params: {\n      name,\n    },\n  });\n};\n\n// 获取城市列表数据\nconst getCities = (level = 1) => {\n  return api.get(\"/area/city\", {\n    params: {\n      level,\n    },\n  });\n};\n\n// 获取热门城市\nconst getHotCity = () => {\n  return api.get(\"/area/hot\");\n};\n\n// 小区关键词查询\nconst getCommunity = (name, id) => {\n  return api.get(\"/area/community\", {\n    params: {\n      name,\n      id,\n    },\n  });\n};\n\n// 查询房源数据\nconst getMapHouses = (id) => {\n  return api.get(\"/area/map\", {\n    params: {\n      id,\n    },\n  });\n};\n\nexport { getCityInfo, getCities, getHotCity, getCommunity, getMapHouses };\n","'use strict';\n\nrequire('../../style/css');\n\nrequire('./index.css');","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar __rest = undefined && undefined.__rest || function (s, e) {\n    var t = {};\n    for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n    }if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n    }return t;\n};\n\nvar NavBar = function (_React$Component) {\n    (0, _inherits3['default'])(NavBar, _React$Component);\n\n    function NavBar() {\n        (0, _classCallCheck3['default'])(this, NavBar);\n        return (0, _possibleConstructorReturn3['default'])(this, (NavBar.__proto__ || Object.getPrototypeOf(NavBar)).apply(this, arguments));\n    }\n\n    (0, _createClass3['default'])(NavBar, [{\n        key: 'render',\n        value: function render() {\n            var _a = this.props,\n                prefixCls = _a.prefixCls,\n                className = _a.className,\n                children = _a.children,\n                mode = _a.mode,\n                icon = _a.icon,\n                onLeftClick = _a.onLeftClick,\n                leftContent = _a.leftContent,\n                rightContent = _a.rightContent,\n                restProps = __rest(_a, [\"prefixCls\", \"className\", \"children\", \"mode\", \"icon\", \"onLeftClick\", \"leftContent\", \"rightContent\"]);\n            return React.createElement(\n                'div',\n                (0, _extends3['default'])({}, restProps, { className: (0, _classnames2['default'])(className, prefixCls, prefixCls + '-' + mode) }),\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-left', role: 'button', onClick: onLeftClick },\n                    icon ?\n                    // tslint:disable-next-line:jsx-no-multiline-js\n                    React.createElement(\n                        'span',\n                        { className: prefixCls + '-left-icon', 'aria-hidden': 'true' },\n                        icon\n                    ) : null,\n                    leftContent\n                ),\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-title' },\n                    children\n                ),\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-right' },\n                    rightContent\n                )\n            );\n        }\n    }]);\n    return NavBar;\n}(React.Component);\n\nexports['default'] = NavBar;\n\nNavBar.defaultProps = {\n    prefixCls: 'am-navbar',\n    mode: 'dark',\n    onLeftClick: function onLeftClick() {}\n};\nmodule.exports = exports['default'];","import api from \"../../axios\";\n\n// 用户登录接口\nconst login = (username, password) => {\n  return api.post(\"/user/login\", {\n    username,\n    password,\n  });\n};\n\n// 获取用户的信息资料\nconst getUserInfo = () => {\n  return api.get(\"/user\");\n};\n\n// 用户退出登录\nconst logout = () => {\n  return api.post(\"/user/logout\");\n};\n\n// 房屋是否收藏\nconst getHousesFav = (id) => {\n  return api.get(`/user/favorites/${id}`);\n};\n\n// 删除收藏\nconst delFav = (id) => {\n  return api.delete(`/user/favorites/${id}`);\n};\n\n// 添加收藏\nconst addFav = (id) => {\n  return api.post(`/user/favorites/${id}`);\n};\n\n// 查看已发布房源列表\nconst getUserHouses = () => {\n  return api.get(\"/user/houses\");\n};\n\n// 发布房源\nconst pubHouse = (body) => {\n  return api.post(\"/user/houses\", {\n    ...body,\n  });\n};\n\nexport {\n  login,\n  getUserInfo,\n  logout,\n  getHousesFav,\n  delFav,\n  addFav,\n  getUserHouses,\n  pubHouse,\n};\n","import React from \"react\";\n\n// import PropTypes from \"prop-types\";\n// props\n// 1. cheldren -> 获取组件动态内容  <Child>adadsd</Child>\n// 2. defautProps -> 为组件设置默认属性  num\n// 3. prop-types -> 为组件的属性提供默认类型  age\n\nimport styles from \"./index.module.css\";\n\nfunction HouseItem({ src, title, desc, tags, price, onClick, style }) {\n  // console.log(src, title, desc, tags, price, onClick, style);\n\n  return (\n    <div className={styles.house} onClick={onClick} style={style}>\n      <div className={styles.imgWrap}>\n        <img className={styles.img} src={src} alt=\"\" />\n      </div>\n      <div className={styles.content}>\n        <h3 className={styles.title}>{title}</h3>\n        <div className={styles.desc}>{desc}</div>\n        <div>\n          {/* ['近地铁', '随时看房'] */}\n          {tags.map((tag, index) => {\n            const tagClass = \"tag\" + (index + 1);\n            return (\n              <span\n                className={[styles.tag, styles[tagClass]].join(\" \")}\n                key={tag}\n              >\n                {tag}\n              </span>\n            );\n          })}\n        </div>\n        <div className={styles.price}>\n          <span className={styles.priceNum}>{price}</span> 元/月\n        </div>\n      </div>\n    </div>\n  );\n}\n\nHouseItem.propTypes = {\n  // src: PropTypes.string,\n  // title: PropTypes.string,\n  // desc: PropTypes.string,\n  // tags: PropTypes.array.isRequired,\n  // price: PropTypes.number,\n  // onClick: PropTypes.func\n};\n\nexport default HouseItem;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"house\":\"HouseItem_house__29lYP\",\"imgWrap\":\"HouseItem_imgWrap__3ZPoa\",\"img\":\"HouseItem_img__1BaJK\",\"content\":\"HouseItem_content__1gVhj\",\"title\":\"HouseItem_title__2dXar\",\"desc\":\"HouseItem_desc__5-mp4\",\"price\":\"HouseItem_price__1_r8v\",\"priceNum\":\"HouseItem_priceNum__RGpsE\",\"tag\":\"HouseItem_tag__3MxYv\",\"tag1\":\"HouseItem_tag1__3VDnD\",\"tag2\":\"HouseItem_tag2__2IcZc\",\"tag3\":\"HouseItem_tag3__2L6o6\"};","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import api from \"../../axios\";\n\n// 获取房屋查询条件\nconst getHousesCondition = (id) => {\n  return api.get(\"/houses/condition\", {\n    params: {\n      id,\n    },\n  });\n};\n\n// 根据条件查询房屋\nconst getHouses = (cityId, filters, start, end) => {\n  return api.get(\"/houses\", {\n    params: {\n      cityId,\n      ...filters,\n      start,\n      end,\n    },\n  });\n};\n\n// 查询房屋具体信息\nconst getHousesById = (id) => {\n  return api.get(`/houses/${id}`);\n};\n\nexport { getHousesCondition, getHouses, getHousesById };\n"],"sourceRoot":""}