{"version":3,"sources":["components/HousePackage/index.js","components/HousePackage/index.module.css","components/HouseDetail/index.module.css","utils/axios.js","utils/currentCity.js","components/HouseDetail/index.js","utils/api/area/index.js","../node_modules/antd-mobile/lib/nav-bar/style/css.js","../node_modules/antd-mobile/lib/nav-bar/index.js","utils/api/user/index.js","components/HouseItem/index.js","components/HouseItem/index.module.css","utils/api/house/index.js"],"names":["HOUSE_PACKAGE","id","name","icon","HousePackage","state","selectedNames","toggleSelect","newSelectedNames","indexOf","filter","item","props","onSelect","setState","console","log","this","data","split","select","list","v","includes","map","isSelected","key","className","styles","active","join","onClick","root","renderItems","Component","module","exports","BaseURL","api","axios","create","baseURL","interceptors","request","use","config","url","headers","startsWith","authorization","getToken","loading","error","Promise","reject","response","res","status","description","body","hide","setToken","localStorage","setItem","getItem","removeToken","removeItem","isAuth","setSession","sessionStorage","JSON","stringify","getSession","currCity","parse","getCurrCity","a","currCityByLocal","resolve","window","BMap","LocalCity","get","result","currCityByMap","resove","getCityInfo","recommendHouses","src","BASE_URL","desc","title","price","tags","labelStyle","position","zIndex","backgroundColor","color","height","padding","lineHeight","borderRadius","boxShadow","whiteSpace","fontSize","userSelect","alert","HouseDetail","isLoading","houseInfo","houseImg","roomType","size","oriented","floor","community","coord","latitude","longitude","supporting","houseCode","isFavorite","checkHouseFav","match","params","getHousesFav","history","location","text","onPress","push","pathname","backUrl","handleFavorite","delFav","addFav","getHouseDetail","getHousesById","renderMap","href","alt","Map","point","Point","centerAndZoom","label","Label","offset","Size","setStyle","setContent","mapArrow","addOverlay","index","tagClass","tag","mode","type","onLeftClick","goBack","rightContent","slides","autoplay","infinite","autoplayInterval","renderSwipers","info","infoTitle","Item","renderTags","infoPrice","infoPriceItem","month","infoBasic","align","mapTitle","mapContainer","about","houseTitle","length","titleEmpty","set","contact","user","useInfo","userAuth","userMsg","descText","recommend","items","fixedBottom","favoriteImg","favorite","telephone","getCities","level","getHotCity","getCommunity","getMapHouses","require","Object","defineProperty","value","_extends3","_interopRequireDefault","_classCallCheck3","_createClass3","_possibleConstructorReturn3","_inherits3","_classnames2","React","obj","__esModule","newObj","prototype","hasOwnProperty","call","_interopRequireWildcard","__rest","s","e","t","p","getOwnPropertySymbols","i","NavBar","_React$Component","__proto__","getPrototypeOf","apply","arguments","_a","prefixCls","children","leftContent","restProps","createElement","role","defaultProps","login","username","password","post","getUserInfo","logout","delete","getUserHouses","pubHouse","HouseItem","style","house","imgWrap","img","content","priceNum","getHousesCondition","getHouses","cityId","filters","start","end"],"mappings":"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","file":"static/js/11.663406d9.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport styles from \"./index.module.css\";\r\n\r\n// 所有房屋配套数据和图标\r\nconst HOUSE_PACKAGE = [\r\n  {\r\n    id: 1,\r\n    name: \"衣柜\",\r\n    icon: \"icon-wardrobe\",\r\n  },\r\n  {\r\n    id: 2,\r\n    name: \"洗衣机\",\r\n    icon: \"icon-wash\",\r\n  },\r\n  {\r\n    id: 3,\r\n    name: \"空调\",\r\n    icon: \"icon-air\",\r\n  },\r\n  {\r\n    id: 4,\r\n    name: \"天然气\",\r\n    icon: \"icon-gas\",\r\n  },\r\n  {\r\n    id: 5,\r\n    name: \"冰箱\",\r\n    icon: \"icon-ref\",\r\n  },\r\n  {\r\n    id: 6,\r\n    name: \"暖气\",\r\n    icon: \"icon-Heat\",\r\n  },\r\n  {\r\n    id: 7,\r\n    name: \"电视\",\r\n    icon: \"icon-vid\",\r\n  },\r\n  {\r\n    id: 8,\r\n    name: \"热水器\",\r\n    icon: \"icon-heater\",\r\n  },\r\n  {\r\n    id: 9,\r\n    name: \"宽带\",\r\n    icon: \"icon-broadband\",\r\n  },\r\n  {\r\n    id: 10,\r\n    name: \"沙发\",\r\n    icon: \"icon-sofa\",\r\n  },\r\n];\r\n\r\n/* \r\n  该组件的两种功能：\r\n  1 根据传入的 list 展示房屋配置列表（房源详情页面）\r\n    <HousePackage list={['衣柜', '洗衣机']} />\r\n  2 从所有配置列表中选择房屋配置（发布房源页面）\r\n    <HousePackage select onSelect={selectedItems => {...}} />\r\n*/\r\nexport default class HousePackage extends Component {\r\n  state = {\r\n    // 选中名称\r\n    selectedNames: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    // debugger\r\n    console.log(\"====================================\");\r\n    console.log(this.props);\r\n    console.log(\"====================================\");\r\n    if (!!this.props.data) {\r\n      this.setState({\r\n        selectedNames: this.props.data.split(\"|\"),\r\n      });\r\n    }\r\n  }\r\n\r\n  // 根据id切换选中状态\r\n  toggleSelect = (name) => {\r\n    const { selectedNames } = this.state;\r\n    let newSelectedNames;\r\n\r\n    // 判断该项是否选中\r\n    if (selectedNames.indexOf(name) > -1) {\r\n      // 选中：从数组中删除选中项，也就是保留未选中项\r\n      newSelectedNames = selectedNames.filter((item) => item !== name);\r\n    } else {\r\n      // 未选中：添加到数组中\r\n      newSelectedNames = [...selectedNames, name];\r\n    }\r\n\r\n    // 传递给父组件\r\n    this.props.onSelect(newSelectedNames);\r\n\r\n    this.setState({\r\n      selectedNames: newSelectedNames,\r\n    });\r\n  };\r\n\r\n  // 渲染列表项\r\n  renderItems() {\r\n    const { selectedNames } = this.state;\r\n    // select 的值为 true 表示 选择房屋配置；false 表示仅展示房屋列表\r\n    // list 表示要展示的列表项\r\n    const { select, list } = this.props;\r\n\r\n    let data;\r\n    // 如果传了 select 表示：选择 房屋配置\r\n    // 如果没传 select 表示：展示 房屋配置 列表\r\n    if (select) {\r\n      data = HOUSE_PACKAGE;\r\n    } else {\r\n      // 展示房屋配置列表\r\n      // 从所有的列表项中过滤出要展示的（list）列表项\r\n      data = HOUSE_PACKAGE.filter((v) => list.includes(v.name));\r\n    }\r\n\r\n    return data.map((item) => {\r\n      // 判断该项是否选中\r\n      const isSelected = selectedNames.indexOf(item.name) > -1;\r\n\r\n      return (\r\n        <li\r\n          key={item.id}\r\n          className={[styles.item, isSelected ? styles.active : \"\"].join(\" \")}\r\n          onClick={select && (() => this.toggleSelect(item.name))}\r\n        >\r\n          <p>\r\n            <i className={`iconfont ${item.icon} ${styles.icon}`} />\r\n          </p>\r\n          {item.name}\r\n        </li>\r\n      );\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return <ul className={styles.root}>{this.renderItems()}</ul>;\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"HousePackage_root__3QhnK\",\"item\":\"HousePackage_item__1DXwr\",\"active\":\"HousePackage_active__3MP_v\",\"icon\":\"HousePackage_icon__1ccEw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"HouseDetail_root__sOMzM\",\"slides\":\"HouseDetail_slides__2TMS9\",\"navHeader\":\"HouseDetail_navHeader__3nOlM\",\"info\":\"HouseDetail_info__15e4Y\",\"infoTitle\":\"HouseDetail_infoTitle__2jzsM\",\"tags\":\"HouseDetail_tags__11q9l\",\"tag\":\"HouseDetail_tag__1lXwR\",\"tag1\":\"HouseDetail_tag1__2kFyt\",\"tag2\":\"HouseDetail_tag2__1fscl\",\"tag3\":\"HouseDetail_tag3__1HqpA\",\"infoPrice\":\"HouseDetail_infoPrice__2ohxv\",\"infoPriceItem\":\"HouseDetail_infoPriceItem__3sIHG\",\"month\":\"HouseDetail_month__3YBqr\",\"infoBasic\":\"HouseDetail_infoBasic__1A2V8\",\"title\":\"HouseDetail_title__3YRe0\",\"map\":\"HouseDetail_map__2LsGN\",\"mapTitle\":\"HouseDetail_mapTitle__3EST6\",\"mapContainer\":\"HouseDetail_mapContainer__1vgdw\",\"mapArrow\":\"HouseDetail_mapArrow__342UW\",\"houseTitle\":\"HouseDetail_houseTitle__2IVxR\",\"about\":\"HouseDetail_about__3x7xr\",\"set\":\"HouseDetail_set__3Z3Nc\",\"titleEmpty\":\"HouseDetail_titleEmpty__J-2di\",\"contact\":\"HouseDetail_contact__2Ya58\",\"user\":\"HouseDetail_user__19n45\",\"useInfo\":\"HouseDetail_useInfo__YNYkW\",\"userAuth\":\"HouseDetail_userAuth__2_Yqf\",\"userMsg\":\"HouseDetail_userMsg__3O_0o\",\"descText\":\"HouseDetail_descText__3H1Vt\",\"recommend\":\"HouseDetail_recommend__3qh-J\",\"items\":\"HouseDetail_items__tQAhh\",\"fixedBottom\":\"HouseDetail_fixedBottom__12XHF\",\"favorite\":\"HouseDetail_favorite__1zhS8\",\"favoriteImg\":\"HouseDetail_favoriteImg__3v_Ll\",\"telephone\":\"HouseDetail_telephone__3x7a1\"};","import axios from \"axios\";\r\nimport { Toast } from \"antd-mobile\";\r\nimport { getToken } from \"./currentCity\";\r\n\r\n// 基地址\r\nconst BaseURL = \"https://api-haoke-web.itheima.net\";\r\n\r\nconst api = axios.create({\r\n  baseURL: BaseURL,\r\n});\r\n\r\n// Add a request interceptor  请求拦截器\r\napi.interceptors.request.use(\r\n  function (config) {\r\n    const { url, headers } = config;\r\n    const list = [\"/user/registered\", \"/user/login\"]; // 白名单\r\n\r\n    if (url.startsWith(\"/user\") && !list.includes(url)) {\r\n      // 设置公共请求头\r\n      headers.authorization = getToken();\r\n    }\r\n\r\n    // 动画加载\r\n    Toast.loading(\"加载中...\", 0);\r\n    // Do something before request is sent\r\n    return config;\r\n  },\r\n  function (error) {\r\n    // Do something with request error\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Add a response interceptor  响应拦截器\r\napi.interceptors.response.use(\r\n  function (response) {\r\n    // 简化返回结果\r\n    let res = {\r\n      status: response.data.status,\r\n      description: response.data.description,\r\n      data: response.data.body,\r\n    };\r\n    // 动画结束\r\n    Toast.hide();\r\n    return res;\r\n  },\r\n  function (error) {\r\n    // Any status codes that falls outside the range of 2xx cause this function to trigger\r\n    // Do something with response error\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default api;\r\nexport { BaseURL };\r\n","import { getCityInfo } from \"./api/area\";\r\n\r\nconst CURR_CITY = \"currCity\"; // 当前城市\r\nconst USER_TOKEN = \"token\";\r\n\r\n// 设置Token\r\nconst setToken = (data) => {\r\n  localStorage.setItem(USER_TOKEN, data);\r\n};\r\n\r\n// 获取Token\r\nconst getToken = () => {\r\n  let token = localStorage.getItem(USER_TOKEN);\r\n  return token;\r\n};\r\n\r\n// 删除Token\r\nconst removeToken = () => {\r\n  localStorage.removeItem(USER_TOKEN);\r\n};\r\n\r\n// 是否登录判断：boolean\r\nconst isAuth = () => !!getToken();\r\n\r\n// 设置当前城市\r\nconst setSession = (data) => {\r\n  sessionStorage.setItem(CURR_CITY, JSON.stringify(data));\r\n};\r\n\r\n// 获取当前城市\r\nconst getSession = () => {\r\n  let currCity = sessionStorage.getItem(CURR_CITY);\r\n  if (!!!currCity) return null;\r\n  return JSON.parse(currCity);\r\n};\r\n\r\n// 删除当前城市\r\n// const removeSession = () => {\r\n//   sessionStorage.removeItem(CURR_CITY);\r\n// };\r\n\r\n// 百度获取\r\nconst getCurrCityByMap = () => {\r\n  return new Promise((resolve, reject) => {\r\n    // 使用百度地图LocalCity获取当前的城市名称\r\n    const myCity = new window.BMap.LocalCity();\r\n    myCity.get((result) => {\r\n      // 根据百度地图获取到城市名字，调用后台接口获取当前城市的详细数据\r\n      resolve(result.name);\r\n    });\r\n  });\r\n};\r\n\r\n// 获取当前城市信息\r\nconst getCurrCity = async () => {\r\n  // 内存中找\r\n  const currCityByLocal = getSession();\r\n\r\n  // 定位\r\n  const currCityByMap = await getCurrCityByMap();\r\n  // 内存中没有 || 内存中有键没值 || 定位和内存中的值不匹配  这样判断，手动切换城市就会有bug\r\n  // if (\r\n  //   !currCityByLocal ||\r\n  //   !currCityByLocal.label ||\r\n  //   !currCityByMap.includes(currCityByLocal.label)\r\n  // ) {\r\n\r\n  if (!currCityByLocal) {\r\n    return new Promise(async (resove, reject) => {\r\n      // 调用接口获取城市详细信息\r\n      const { status, data } = await getCityInfo(currCityByMap);\r\n      if (status === 200) {\r\n        // 存到本地\r\n        setSession(data);\r\n        // 传递数据\r\n        resove(data);\r\n      } else {\r\n        reject(\"error\");\r\n      }\r\n    });\r\n  } else {\r\n    // 如果有，返回本地存储获取的信息\r\n    return Promise.resolve(currCityByLocal);\r\n  }\r\n};\r\n\r\nexport {\r\n  getCurrCity,\r\n  setSession,\r\n  CURR_CITY,\r\n  setToken,\r\n  getToken,\r\n  removeToken,\r\n  isAuth,\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { Carousel, Flex, Modal, NavBar, Icon } from \"antd-mobile\";\r\nimport HouseItem from \"../HouseItem\";\r\nimport styles from \"./index.module.css\";\r\nimport HousePackage from \"../HousePackage\";\r\n\r\nimport { getHousesById } from \"../../utils/api/house\";\r\nimport { BaseURL as BASE_URL } from \"../../utils/axios\";\r\nimport { isAuth } from \"../../utils/currentCity\";\r\nimport { getHousesFav, delFav, addFav } from \"../../utils/api/user\";\r\n// 猜你喜欢\r\nconst recommendHouses = [\r\n  {\r\n    id: 1,\r\n    src: BASE_URL + \"/img/message/1.png\",\r\n    desc: \"72.32㎡/南 北/低楼层\",\r\n    title: \"安贞西里 3室1厅\",\r\n    price: 4500,\r\n    tags: [\"随时看房\"],\r\n  },\r\n  {\r\n    id: 2,\r\n    src: BASE_URL + \"/img/message/2.png\",\r\n    desc: \"83㎡/南/高楼层\",\r\n    title: \"天居园 2室1厅\",\r\n    price: 7200,\r\n    tags: [\"近地铁\"],\r\n  },\r\n  {\r\n    id: 3,\r\n    src: BASE_URL + \"/img/message/3.png\",\r\n    desc: \"52㎡/西南/低楼层\",\r\n    title: \"角门甲4号院 1室1厅\",\r\n    price: 4300,\r\n    tags: [\"集中供暖\"],\r\n  },\r\n];\r\n\r\n// 百度地图\r\nconst BMap = window.BMap;\r\n\r\nconst labelStyle = {\r\n  position: \"absolute\",\r\n  zIndex: -7982820,\r\n  backgroundColor: \"rgb(238, 93, 91)\",\r\n  color: \"rgb(255, 255, 255)\",\r\n  height: 25,\r\n  padding: \"5px 10px\",\r\n  lineHeight: \"14px\",\r\n  borderRadius: 3,\r\n  boxShadow: \"rgb(204, 204, 204) 2px 2px 2px\",\r\n  whiteSpace: \"nowrap\",\r\n  fontSize: 12,\r\n  userSelect: \"none\",\r\n};\r\n\r\nconst alert = Modal.alert;\r\n\r\nexport default class HouseDetail extends Component {\r\n  state = {\r\n    // 数据加载中状态\r\n    isLoading: false,\r\n\r\n    // 房屋详情\r\n    houseInfo: {\r\n      // 房屋图片\r\n      houseImg: [],\r\n      // 标题\r\n      title: \"\",\r\n      // 标签\r\n      tags: [],\r\n      // 租金\r\n      price: 0,\r\n      // 房型\r\n      roomType: \"\",\r\n      // 房屋面积\r\n      size: 0,\r\n      // 朝向\r\n      oriented: [],\r\n      // 楼层\r\n      floor: \"\",\r\n      // 小区名称\r\n      community: \"\",\r\n      // 地理位置\r\n      coord: {\r\n        latitude: \"39.928033\",\r\n        longitude: \"116.529466\",\r\n      },\r\n      // 房屋配套\r\n      supporting: [],\r\n      // 房屋标识\r\n      houseCode: \"\",\r\n      // 房屋描述\r\n      description: \"\",\r\n    },\r\n\r\n    // 表示房源是否收藏\r\n    isFavorite: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    // 获取配置好的路由参数：\r\n    // console.log('路由参数对象：', this.props.match.params)\r\n    // console.log(this.props)\r\n\r\n    // 获取房屋数据\r\n    this.getHouseDetail();\r\n    // 检测房子是否收藏过\r\n    this.checkHouseFav();\r\n  }\r\n\r\n  // 检查房子是否收藏过\r\n  checkHouseFav = async () => {\r\n    if (!isAuth()) return;\r\n    const { id } = this.props.match.params;\r\n    let res = await getHousesFav(id);\r\n    console.log(res);\r\n    if (res.status === 200) {\r\n      this.setState({\r\n        isFavorite: res.data.isFavorite,\r\n      });\r\n    } else {\r\n      const { history, location } = this.props;\r\n      // 如果token过期，提示用户是否重新登录\r\n      alert(\"提示\", \"登录信息已过期，是否重新登录？\", [\r\n        { text: \"取消\" },\r\n        {\r\n          text: \"去登录\",\r\n          onPress: async () => {\r\n            history.push({ pathname: \"/login\", backUrl: location.pathname });\r\n          },\r\n        },\r\n      ]);\r\n    }\r\n  };\r\n\r\n  /* \r\n      收藏房源：\r\n\r\n      1 给收藏按钮绑定单击事件，创建方法 handleFavorite 作为事件处理程序。\r\n      2 调用 isAuth 方法，判断是否登录。\r\n      3 如果未登录，则使用 Modal.alert 提示用户是否去登录。\r\n      4 如果点击取消，则不做任何操作。\r\n      5 如果点击去登录，就跳转到登录页面，同时传递 state（登录后，再回到房源收藏页面）。\r\n      \r\n      6 根据 isFavorite 判断，当前房源是否收藏。\r\n      7 如果未收藏，就调用添加收藏接口，添加收藏。\r\n      8 如果已收藏，就调用删除收藏接口，去除收藏。\r\n\r\n      alert('提示', '登录后才能收藏房源，是否去登录?', [\r\n        { text: '取消' },\r\n        {\r\n          text: '去登录',\r\n          onPress: () => {}\r\n        }\r\n      ])\r\n    */\r\n  handleFavorite = async () => {\r\n    const { history, match, location } = this.props;\r\n    console.log(this.props);\r\n    if (!isAuth()) {\r\n      alert(\"提示\", \"登录后才能收藏房源，是否登录？\", [\r\n        { text: \"取消\" },\r\n        {\r\n          text: \"去登录\",\r\n          onPress: async () => {\r\n            history.push({ pathname: \"/login\", backUrl: location.pathname });\r\n          },\r\n        },\r\n      ]);\r\n    } else {\r\n      const { isFavorite } = this.state;\r\n      const { id } = match.params;\r\n      if (isFavorite) {\r\n        // 删除收藏\r\n        const res = await delFav(id);\r\n        res.status === 200 &&\r\n          this.setState({\r\n            isFavorite: false,\r\n          });\r\n      } else {\r\n        // 添加收藏\r\n        const res = await addFav(id);\r\n        if (res.status === 200) {\r\n          this.setState({\r\n            isFavorite: true,\r\n          });\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  // 获取房屋详细信息\r\n  async getHouseDetail() {\r\n    const { id } = this.props.match.params;\r\n\r\n    // 开启loading\r\n    this.setState({\r\n      isLoading: true,\r\n    });\r\n\r\n    const res = await getHousesById(id);\r\n\r\n    console.log(res.data);\r\n\r\n    this.setState({\r\n      houseInfo: res.data,\r\n      isLoading: false,\r\n    });\r\n\r\n    const { community, coord } = res.data;\r\n\r\n    // 渲染地图\r\n    this.renderMap(community, coord);\r\n  }\r\n\r\n  // 渲染轮播图结构\r\n  renderSwipers() {\r\n    const {\r\n      houseInfo: { houseImg },\r\n    } = this.state;\r\n\r\n    return houseImg.map((item) => (\r\n      <a key={item} href=\"http://itcast.cn\">\r\n        <img src={BASE_URL + item} alt=\"\" />\r\n      </a>\r\n    ));\r\n  }\r\n\r\n  // 渲染地图\r\n  renderMap(community, coord) {\r\n    const { latitude, longitude } = coord;\r\n\r\n    const map = new BMap.Map(\"map\");\r\n    const point = new BMap.Point(longitude, latitude);\r\n    map.centerAndZoom(point, 17);\r\n\r\n    const label = new BMap.Label(\"\", {\r\n      position: point,\r\n      offset: new BMap.Size(0, -36),\r\n    });\r\n\r\n    label.setStyle(labelStyle);\r\n    label.setContent(`\r\n        <span>${community}</span>\r\n        <div class=\"${styles.mapArrow}\"></div>\r\n      `);\r\n    map.addOverlay(label);\r\n  }\r\n\r\n  // 渲染标签\r\n  renderTags() {\r\n    const {\r\n      houseInfo: { tags },\r\n    } = this.state;\r\n\r\n    return tags.map((item, index) => {\r\n      // 如果标签数量超过3个，后面的标签就都展示位第三个标签的样式\r\n      let tagClass = \"\";\r\n      if (index > 2) {\r\n        tagClass = \"tag3\";\r\n      } else {\r\n        tagClass = \"tag\" + (index + 1);\r\n      }\r\n\r\n      return (\r\n        <span key={item} className={[styles.tag, styles[tagClass]].join(\" \")}>\r\n          {item}\r\n        </span>\r\n      );\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isLoading,\r\n      houseInfo: {\r\n        community = \"\",\r\n        title,\r\n        price,\r\n        roomType,\r\n        size,\r\n        floor,\r\n        oriented,\r\n        supporting,\r\n        description,\r\n      },\r\n      isFavorite,\r\n    } = this.state;\r\n    return (\r\n      <div className={styles.root}>\r\n        {/* 导航栏 */}\r\n        <NavBar\r\n          mode=\"dark\"\r\n          icon={<Icon type=\"left\" />}\r\n          onLeftClick={() => this.props.history.goBack()}\r\n          rightContent={[<i key=\"share\" className=\"iconfont icon-share\" />]}\r\n        >\r\n          房屋详情\r\n        </NavBar>\r\n        {/* 轮播图 */}\r\n        <div className={styles.slides}>\r\n          {!isLoading ? (\r\n            <Carousel autoplay infinite autoplayInterval={5000}>\r\n              {this.renderSwipers()}\r\n            </Carousel>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n        {/* 房屋基础信息 */}\r\n        <div className={styles.info}>\r\n          <h3 className={styles.infoTitle}>{title}</h3>\r\n          <Flex className={styles.tags}>\r\n            <Flex.Item>{this.renderTags()}</Flex.Item>\r\n          </Flex>\r\n\r\n          <Flex className={styles.infoPrice}>\r\n            <Flex.Item className={styles.infoPriceItem}>\r\n              <div>\r\n                {price}\r\n                <span className={styles.month}>/月</span>\r\n              </div>\r\n              <div>租金</div>\r\n            </Flex.Item>\r\n            <Flex.Item className={styles.infoPriceItem}>\r\n              <div>{roomType}</div>\r\n              <div>房型</div>\r\n            </Flex.Item>\r\n            <Flex.Item className={styles.infoPriceItem}>\r\n              <div>{size}平米</div>\r\n              <div>面积</div>\r\n            </Flex.Item>\r\n          </Flex>\r\n\r\n          <Flex className={styles.infoBasic} align=\"start\">\r\n            <Flex.Item>\r\n              <div>\r\n                <span className={styles.title}>装修：</span>\r\n                精装\r\n              </div>\r\n              <div>\r\n                <span className={styles.title}>楼层：</span>\r\n                {floor}\r\n              </div>\r\n            </Flex.Item>\r\n            <Flex.Item>\r\n              <div>\r\n                <span className={styles.title}>朝向：</span>\r\n                {oriented.join(\"、\")}\r\n              </div>\r\n              <div>\r\n                <span className={styles.title}>类型：</span>普通住宅\r\n              </div>\r\n            </Flex.Item>\r\n          </Flex>\r\n        </div>\r\n        {/* 地图位置 */}\r\n        <div className={styles.map}>\r\n          <div className={styles.mapTitle}>\r\n            小区：\r\n            <span>{community}</span>\r\n          </div>\r\n          <div className={styles.mapContainer} id=\"map\">\r\n            地图\r\n          </div>\r\n        </div>\r\n        {/* 房屋配套 */}\r\n        <div className={styles.about}>\r\n          <div className={styles.houseTitle}>房屋配套</div>\r\n          {/* <HousePackage list={supporting} /> */}\r\n          {/* <div className=\"title-empty\">暂无数据</div> */}\r\n\r\n          {supporting.length === 0 ? (\r\n            <div className={styles.titleEmpty}>暂无数据</div>\r\n          ) : (\r\n            <HousePackage list={supporting} />\r\n          )}\r\n        </div>\r\n        {/* 房屋概况 */}\r\n        <div className={styles.set}>\r\n          <div className={styles.houseTitle}>房源概况</div>\r\n          <div>\r\n            <div className={styles.contact}>\r\n              <div className={styles.user}>\r\n                <img src={BASE_URL + \"/img/avatar.png\"} alt=\"头像\" />\r\n                <div className={styles.useInfo}>\r\n                  <div>王女士</div>\r\n                  <div className={styles.userAuth}>\r\n                    <i className=\"iconfont icon-auth\" />\r\n                    已认证房主\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <span className={styles.userMsg}>发消息</span>\r\n            </div>\r\n\r\n            <div className={styles.descText}>\r\n              {description || \"暂无房屋描述\"}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {/* 推荐 */}\r\n        <div className={styles.recommend}>\r\n          <div className={styles.houseTitle}>猜你喜欢</div>\r\n          <div className={styles.items}>\r\n            {recommendHouses.map((item) => (\r\n              <HouseItem {...item} key={item.id} />\r\n            ))}\r\n          </div>\r\n        </div>\r\n        {/* 底部收藏按钮 */}\r\n        <Flex className={styles.fixedBottom}>\r\n          <Flex.Item onClick={this.handleFavorite}>\r\n            <img\r\n              src={\r\n                BASE_URL + (isFavorite ? \"/img/star.png\" : \"/img/unstar.png\")\r\n              }\r\n              className={styles.favoriteImg}\r\n              alt=\"收藏\"\r\n            />\r\n            <span className={styles.favorite}>\r\n              {isFavorite ? \"已收藏\" : \"收藏\"}\r\n            </span>\r\n          </Flex.Item>\r\n          <Flex.Item>在线咨询</Flex.Item>\r\n          <Flex.Item>\r\n            <a href=\"tel:400-618-4000\" className={styles.telephone}>\r\n              电话预约\r\n            </a>\r\n          </Flex.Item>\r\n        </Flex>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import api from \"../../axios\";\r\n\r\n// 根据城市名称查询该城市的信息\r\nconst getCityInfo = (name) => {\r\n  return api.get(\"/area/info\", {\r\n    params: {\r\n      name,\r\n    },\r\n  });\r\n};\r\n\r\n// 获取城市列表数据\r\nconst getCities = (level = 1) => {\r\n  return api.get(\"/area/city\", {\r\n    params: {\r\n      level,\r\n    },\r\n  });\r\n};\r\n\r\n// 获取热门城市\r\nconst getHotCity = () => {\r\n  return api.get(\"/area/hot\");\r\n};\r\n\r\n// 小区关键词查询\r\nconst getCommunity = (name, id) => {\r\n  return api.get(\"/area/community\", {\r\n    params: {\r\n      name,\r\n      id,\r\n    },\r\n  });\r\n};\r\n\r\n// 查询房源数据\r\nconst getMapHouses = (id) => {\r\n  return api.get(\"/area/map\", {\r\n    params: {\r\n      id,\r\n    },\r\n  });\r\n};\r\n\r\nexport { getCityInfo, getCities, getHotCity, getCommunity, getMapHouses };\r\n","'use strict';\n\nrequire('../../style/css');\n\nrequire('./index.css');","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar __rest = undefined && undefined.__rest || function (s, e) {\n    var t = {};\n    for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n    }if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n        if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n    }return t;\n};\n\nvar NavBar = function (_React$Component) {\n    (0, _inherits3['default'])(NavBar, _React$Component);\n\n    function NavBar() {\n        (0, _classCallCheck3['default'])(this, NavBar);\n        return (0, _possibleConstructorReturn3['default'])(this, (NavBar.__proto__ || Object.getPrototypeOf(NavBar)).apply(this, arguments));\n    }\n\n    (0, _createClass3['default'])(NavBar, [{\n        key: 'render',\n        value: function render() {\n            var _a = this.props,\n                prefixCls = _a.prefixCls,\n                className = _a.className,\n                children = _a.children,\n                mode = _a.mode,\n                icon = _a.icon,\n                onLeftClick = _a.onLeftClick,\n                leftContent = _a.leftContent,\n                rightContent = _a.rightContent,\n                restProps = __rest(_a, [\"prefixCls\", \"className\", \"children\", \"mode\", \"icon\", \"onLeftClick\", \"leftContent\", \"rightContent\"]);\n            return React.createElement(\n                'div',\n                (0, _extends3['default'])({}, restProps, { className: (0, _classnames2['default'])(className, prefixCls, prefixCls + '-' + mode) }),\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-left', role: 'button', onClick: onLeftClick },\n                    icon ?\n                    // tslint:disable-next-line:jsx-no-multiline-js\n                    React.createElement(\n                        'span',\n                        { className: prefixCls + '-left-icon', 'aria-hidden': 'true' },\n                        icon\n                    ) : null,\n                    leftContent\n                ),\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-title' },\n                    children\n                ),\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-right' },\n                    rightContent\n                )\n            );\n        }\n    }]);\n    return NavBar;\n}(React.Component);\n\nexports['default'] = NavBar;\n\nNavBar.defaultProps = {\n    prefixCls: 'am-navbar',\n    mode: 'dark',\n    onLeftClick: function onLeftClick() {}\n};\nmodule.exports = exports['default'];","import api from \"../../axios\";\r\n\r\n// 用户登录接口\r\nconst login = (username, password) => {\r\n  return api.post(\"/user/login\", {\r\n    username,\r\n    password,\r\n  });\r\n};\r\n\r\n// 获取用户的信息资料\r\nconst getUserInfo = () => {\r\n  return api.get(\"/user\");\r\n};\r\n\r\n// 用户退出登录\r\nconst logout = () => {\r\n  return api.post(\"/user/logout\");\r\n};\r\n\r\n// 房屋是否收藏\r\nconst getHousesFav = (id) => {\r\n  return api.get(`/user/favorites/${id}`);\r\n};\r\n\r\n// 删除收藏\r\nconst delFav = (id) => {\r\n  return api.delete(`/user/favorites/${id}`);\r\n};\r\n\r\n// 添加收藏\r\nconst addFav = (id) => {\r\n  return api.post(`/user/favorites/${id}`);\r\n};\r\n\r\n// 查看已发布房源列表\r\nconst getUserHouses = () => {\r\n  return api.get(\"/user/houses\");\r\n};\r\n\r\n// 发布房源\r\nconst pubHouse = (body) => {\r\n  return api.post(\"/user/houses\", {\r\n    ...body,\r\n  });\r\n};\r\n\r\nexport {\r\n  login,\r\n  getUserInfo,\r\n  logout,\r\n  getHousesFav,\r\n  delFav,\r\n  addFav,\r\n  getUserHouses,\r\n  pubHouse,\r\n};\r\n","import React from \"react\";\r\n\r\n// import PropTypes from \"prop-types\";\r\n// props\r\n// 1. cheldren -> 获取组件动态内容  <Child>adadsd</Child>\r\n// 2. defautProps -> 为组件设置默认属性  num\r\n// 3. prop-types -> 为组件的属性提供默认类型  age\r\n\r\nimport styles from \"./index.module.css\";\r\n\r\nfunction HouseItem({ src, title, desc, tags, price, onClick, style }) {\r\n  // console.log(src, title, desc, tags, price, onClick, style);\r\n\r\n  return (\r\n    <div className={styles.house} onClick={onClick} style={style}>\r\n      <div className={styles.imgWrap}>\r\n        <img className={styles.img} src={src} alt=\"\" />\r\n      </div>\r\n      <div className={styles.content}>\r\n        <h3 className={styles.title}>{title}</h3>\r\n        <div className={styles.desc}>{desc}</div>\r\n        <div>\r\n          {/* ['近地铁', '随时看房'] */}\r\n          {tags.map((tag, index) => {\r\n            const tagClass = \"tag\" + (index + 1);\r\n            return (\r\n              <span\r\n                className={[styles.tag, styles[tagClass]].join(\" \")}\r\n                key={tag}\r\n              >\r\n                {tag}\r\n              </span>\r\n            );\r\n          })}\r\n        </div>\r\n        <div className={styles.price}>\r\n          <span className={styles.priceNum}>{price}</span> 元/月\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nHouseItem.propTypes = {\r\n  // src: PropTypes.string,\r\n  // title: PropTypes.string,\r\n  // desc: PropTypes.string,\r\n  // tags: PropTypes.array.isRequired,\r\n  // price: PropTypes.number,\r\n  // onClick: PropTypes.func\r\n};\r\n\r\nexport default HouseItem;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"house\":\"HouseItem_house__2q9Ye\",\"imgWrap\":\"HouseItem_imgWrap__xEh5J\",\"img\":\"HouseItem_img__rewGk\",\"content\":\"HouseItem_content__1WkA3\",\"title\":\"HouseItem_title__2o3S7\",\"desc\":\"HouseItem_desc__1k7nO\",\"price\":\"HouseItem_price__1_VPA\",\"priceNum\":\"HouseItem_priceNum__3oYx1\",\"tag\":\"HouseItem_tag__1bClN\",\"tag1\":\"HouseItem_tag1__3oa-D\",\"tag2\":\"HouseItem_tag2__1_RYT\",\"tag3\":\"HouseItem_tag3__26E0o\"};","import api from \"../../axios\";\r\n\r\n// 获取房屋查询条件\r\nconst getHousesCondition = (id) => {\r\n  return api.get(\"/houses/condition\", {\r\n    params: {\r\n      id,\r\n    },\r\n  });\r\n};\r\n\r\n// 根据条件查询房屋\r\nconst getHouses = (cityId, filters, start, end) => {\r\n  return api.get(\"/houses\", {\r\n    params: {\r\n      cityId,\r\n      ...filters,\r\n      start,\r\n      end,\r\n    },\r\n  });\r\n};\r\n\r\n// 查询房屋具体信息\r\nconst getHousesById = (id) => {\r\n  return api.get(`/houses/${id}`);\r\n};\r\n\r\nexport { getHousesCondition, getHouses, getHousesById };\r\n"],"sourceRoot":""}